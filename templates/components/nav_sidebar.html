{% load i18n %}
<aside id="sidebar" class="fixed inset-y-0 left-0 z-20 w-64 bg-white border-r flex flex-col transform -translate-x-full md:translate-x-0 transition-transform">
  <div class="flex items-center justify-between p-4 border-b">
    <a href="/" class="text-2xl font-bold text-primary" aria-label="{% trans 'PÃ¡gina inicial' %}" aria-current="{% if request.path == '/' %}page{% endif %}"><span class="sidebar-label">HubX</span></a>
  </div>
  <nav class="flex-1 overflow-y-auto px-4 py-4" role="navigation" aria-label="{% trans 'Menu' %}">
    <ul class="flex flex-col gap-2 text-sm">
      {% for item in NAV_MENU %}
        <li>
          <a href="{{ item.path }}" class="{{ item.classes }} {% if item.active %}text-primary font-semibold{% endif %}" aria-label="{% trans item.label %}" aria-current="{% if item.active %}page{% endif %}">
            {% if item.id == 'perfil' and user.avatar %}
              <img src="{{ user.avatar.url }}" alt="{{ user.username }}" class="w-6 h-6 rounded-full object-cover" />
            {% else %}
              {{ item.icon|safe }}
            {% endif %}
            <span class="sidebar-label">{% trans item.label %}</span>
          </a>
          {% if item.id == 'perfil' %}<span id="notif-count" class="hidden"></span>{% endif %}
        </li>
      {% endfor %}
    </ul>
  </nav>
</aside>
