{% with selected_bg=bg_type|default:'nucleos' %}
  {% if selected_bg == 'nucleos' %}
<!-- Neural Network Background Templates for Django -->
<!-- Each background represents a different module with unique neural patterns -->

<!-- Núcleos Background -->
<div class="neural-bg-nucleos absolute inset-0 overflow-hidden">
  <svg class="w-full h-full" viewBox="0 0 800 600" xmlns="http://www.w3.org/2000/svg">
    <defs>
      <radialGradient id="nucleos-gradient" cx="50%" cy="50%" r="50%">
        <stop offset="0%" style="stop-color:#0ea5e9;stop-opacity:1"/>
        <stop offset="30%" style="stop-color:#3b82f6;stop-opacity:0.9"/>
        <stop offset="70%" style="stop-color:#1e40af;stop-opacity:0.7"/>
        <stop offset="100%" style="stop-color:#1e3a8a;stop-opacity:0.5"/>
      </radialGradient>
      <radialGradient id="node-gradient" cx="50%" cy="50%" r="50%">
        <stop offset="0%" style="stop-color:#0ea5e9;stop-opacity:1"/>
        <stop offset="100%" style="stop-color:#3b82f6;stop-opacity:0.8"/>
      </radialGradient>
      <filter id="glow" x="-50%" y="-50%" width="200%" height="200%">
        <feGaussianBlur stdDeviation="4" result="coloredBlur"/>
        <feMerge>
          <feMergeNode in="coloredBlur"/>
          <feMergeNode in="SourceGraphic"/>
        </feMerge>
      </filter>
    </defs>
    
    <!-- Background neural mesh -->
    <g opacity="0.3">
      <path d="M0,150 Q200,100 400,150 T800,150" stroke="#1e40af" stroke-width="1" fill="none"/>
      <path d="M0,450 Q200,500 400,450 T800,450" stroke="#1e40af" stroke-width="1" fill="none"/>
      <path d="M150,0 Q100,200 150,400 T150,600" stroke="#3b82f6" stroke-width="1" fill="none"/>
      <path d="M650,0 Q700,200 650,400 T650,600" stroke="#3b82f6" stroke-width="1" fill="none"/>
    </g>
    
    <!-- Central hub with enhanced presence -->
    <circle cx="400" cy="300" r="35" fill="url(#nucleos-gradient)" filter="url(#glow)">
      <animate attributeName="r" values="35;40;35" dur="3s" repeatCount="indefinite"/>
      <animate attributeName="opacity" values="0.9;1;0.9" dur="3s" repeatCount="indefinite"/>
    </circle>
    <circle cx="400" cy="300" r="20" fill="#0ea5e9" opacity="0.8"/>
    
    <!-- Primary ring of nodes -->
    <circle cx="280" cy="180" r="18" fill="url(#node-gradient)" filter="url(#glow)"/>
    <circle cx="520" cy="180" r="18" fill="url(#node-gradient)" filter="url(#glow)"/>
    <circle cx="580" cy="300" r="18" fill="url(#node-gradient)" filter="url(#glow)"/>
    <circle cx="520" cy="420" r="18" fill="url(#node-gradient)" filter="url(#glow)"/>
    <circle cx="280" cy="420" r="18" fill="url(#node-gradient)" filter="url(#glow)"/>
    <circle cx="220" cy="300" r="18" fill="url(#node-gradient)" filter="url(#glow)"/>
    
    <!-- Secondary ring of nodes -->
    <circle cx="200" cy="120" r="12" fill="#3b82f6" opacity="0.8"/>
    <circle cx="600" cy="120" r="12" fill="#3b82f6" opacity="0.8"/>
    <circle cx="680" cy="300" r="12" fill="#1e40af" opacity="0.7"/>
    <circle cx="600" cy="480" r="12" fill="#1e40af" opacity="0.7"/>
    <circle cx="200" cy="480" r="12" fill="#3b82f6" opacity="0.8"/>
    <circle cx="120" cy="300" r="12" fill="#3b82f6" opacity="0.8"/>
    
    <!-- Tertiary nodes -->
    <circle cx="150" cy="200" r="8" fill="#1e40af" opacity="0.6"/>
    <circle cx="650" cy="200" r="8" fill="#1e40af" opacity="0.6"/>
    <circle cx="650" cy="400" r="8" fill="#0ea5e9" opacity="0.6"/>
    <circle cx="150" cy="400" r="8" fill="#0ea5e9" opacity="0.6"/>
    <circle cx="320" cy="100" r="8" fill="#3b82f6" opacity="0.6"/>
    <circle cx="480" cy="100" r="8" fill="#3b82f6" opacity="0.6"/>
    <circle cx="480" cy="500" r="8" fill="#1e40af" opacity="0.6"/>
    <circle cx="320" cy="500" r="8" fill="#1e40af" opacity="0.6"/>
    
    <!-- Primary connections from central hub -->
    <g stroke="#0ea5e9" stroke-width="3" opacity="0.8" fill="none">
      <path d="M400,300 L280,180">
        <animate attributeName="stroke-opacity" values="0.8;1;0.8" dur="2s" repeatCount="indefinite"/>
      </path>
      <path d="M400,300 L520,180">
        <animate attributeName="stroke-opacity" values="0.8;1;0.8" dur="2.2s" repeatCount="indefinite"/>
      </path>
      <path d="M400,300 L580,300">
        <animate attributeName="stroke-opacity" values="0.8;1;0.8" dur="2.4s" repeatCount="indefinite"/>
      </path>
      <path d="M400,300 L520,420">
        <animate attributeName="stroke-opacity" values="0.8;1;0.8" dur="2.6s" repeatCount="indefinite"/>
      </path>
      <path d="M400,300 L280,420">
        <animate attributeName="stroke-opacity" values="0.8;1;0.8" dur="2.8s" repeatCount="indefinite"/>
      </path>
      <path d="M400,300 L220,300">
        <animate attributeName="stroke-opacity" values="0.8;1;0.8" dur="3s" repeatCount="indefinite"/>
      </path>
    </g>
    
    <!-- Secondary connections -->
    <g stroke="#3b82f6" stroke-width="2" opacity="0.6" fill="none">
      <path d="M280,180 L200,120"/>
      <path d="M520,180 L600,120"/>
      <path d="M580,300 L680,300"/>
      <path d="M520,420 L600,480"/>
      <path d="M280,420 L200,480"/>
      <path d="M220,300 L120,300"/>
    </g>
    
    <!-- Tertiary connections -->
    <g stroke="#1e40af" stroke-width="1.5" opacity="0.4" fill="none">
      <path d="M200,120 L150,200"/>
      <path d="M600,120 L650,200"/>
      <path d="M680,300 L650,400"/>
      <path d="M600,480 L650,400"/>
      <path d="M200,480 L150,400"/>
      <path d="M120,300 L150,200"/>
      <path d="M280,180 L320,100"/>
      <path d="M520,180 L480,100"/>
      <path d="M520,420 L480,500"/>
      <path d="M280,420 L320,500"/>
    </g>
    
    <!-- Inter-node connections -->
    <g stroke="#0ea5e9" stroke-width="1" opacity="0.3" fill="none">
      <path d="M280,180 L520,180"/>
      <path d="M520,180 L580,300"/>
      <path d="M580,300 L520,420"/>
      <path d="M520,420 L280,420"/>
      <path d="M280,420 L220,300"/>
      <path d="M220,300 L280,180"/>
    </g>
    
    <!-- Pulsing data flow -->
    <g>
      <circle cx="340" cy="240" r="3" fill="#0ea5e9" opacity="0.9">
        <animateMotion dur="4s" repeatCount="indefinite">
          <path d="M0,0 L60,60 L120,0 L180,60 L240,0 L300,60"/>
        </animateMotion>
        <animate attributeName="opacity" values="0.9;0.3;0.9" dur="4s" repeatCount="indefinite"/>
      </circle>
      <circle cx="460" cy="240" r="3" fill="#3b82f6" opacity="0.8">
        <animateMotion dur="5s" repeatCount="indefinite">
          <path d="M0,0 L-60,60 L-120,0 L-180,60 L-240,0 L-300,60"/>
        </animateMotion>
        <animate attributeName="opacity" values="0.8;0.2;0.8" dur="5s" repeatCount="indefinite"/>
      </circle>
    </g>
  </svg>
</div>

  {% elif selected_bg == 'eventos' %}
<!-- Eventos Associados Background -->
<div class="neural-bg-eventos absolute inset-0 overflow-hidden">
  <svg class="w-full h-full" viewBox="0 0 800 600" xmlns="http://www.w3.org/2000/svg">
    <defs>
      <linearGradient id="eventos-gradient" x1="0%" y1="0%" x2="100%" y2="0%">
        <stop offset="0%" style="stop-color:#0ea5e9;stop-opacity:0.8"/>
        <stop offset="50%" style="stop-color:#3b82f6;stop-opacity:0.6"/>
        <stop offset="100%" style="stop-color:#1e40af;stop-opacity:0.4"/>
      </linearGradient>
    </defs>
    
    <!-- Timeline wave -->
    <path d="M0,300 Q200,200 400,300 T800,300" stroke="url(#eventos-gradient)" stroke-width="3" fill="none" opacity="0.8"/>
    <path d="M0,320 Q200,220 400,320 T800,320" stroke="#3b82f6" stroke-width="2" fill="none" opacity="0.6"/>
    <path d="M0,280 Q200,180 400,280 T800,280" stroke="#1e40af" stroke-width="2" fill="none" opacity="0.4"/>
    
    <!-- Event nodes -->
    <circle cx="100" cy="300" r="8" fill="#0ea5e9" opacity="0.9"/>
    <circle cx="300" cy="250" r="10" fill="#0ea5e9" opacity="0.8"/>
    <circle cx="500" cy="300" r="12" fill="#3b82f6" opacity="0.7"/>
    <circle cx="700" cy="280" r="9" fill="#1e40af" opacity="0.6"/>
    
    <!-- Connecting pulses -->
    <circle cx="200" cy="275" r="4" fill="#0ea5e9" opacity="0.5">
      <animate attributeName="r" values="4;8;4" dur="2s" repeatCount="indefinite"/>
      <animate attributeName="opacity" values="0.5;0.8;0.5" dur="2s" repeatCount="indefinite"/>
    </circle>
    <circle cx="400" cy="300" r="4" fill="#3b82f6" opacity="0.5">
      <animate attributeName="r" values="4;8;4" dur="2.5s" repeatCount="indefinite"/>
      <animate attributeName="opacity" values="0.5;0.8;0.5" dur="2.5s" repeatCount="indefinite"/>
    </circle>
    <circle cx="600" cy="290" r="4" fill="#1e40af" opacity="0.5">
      <animate attributeName="r" values="4;8;4" dur="3s" repeatCount="indefinite"/>
      <animate attributeName="opacity" values="0.5;0.8;0.5" dur="3s" repeatCount="indefinite"/>
    </circle>
  </svg>
</div>

  {% elif selected_bg == 'associados' %}
<!-- Associados Background -->
<div class="neural-bg-associados absolute inset-0 overflow-hidden">
  <svg class="w-full h-full" viewBox="0 0 800 600" xmlns="http://www.w3.org/2000/svg">
    <defs>
      <radialGradient id="associados-core" cx="50%" cy="45%" r="40%">
        <stop offset="0%" style="stop-color:#0ea5e9;stop-opacity:0.8"/>
        <stop offset="60%" style="stop-color:#3b82f6;stop-opacity:0.4"/>
        <stop offset="100%" style="stop-color:#1e40af;stop-opacity:0.2"/>
      </radialGradient>
      <radialGradient id="associados-node" cx="50%" cy="50%" r="50%">
        <stop offset="0%" style="stop-color:#38bdf8;stop-opacity:1"/>
        <stop offset="100%" style="stop-color:#1d4ed8;stop-opacity:0.7"/>
      </radialGradient>
      <linearGradient id="associados-connection" x1="0%" y1="0%" x2="100%" y2="0%">
        <stop offset="0%" style="stop-color:#38bdf8;stop-opacity:0.7"/>
        <stop offset="100%" style="stop-color:#2563eb;stop-opacity:0.5"/>
      </linearGradient>
      <filter id="associados-glow" x="-50%" y="-50%" width="200%" height="200%">
        <feGaussianBlur stdDeviation="4" result="glow"/>
        <feMerge>
          <feMergeNode in="glow"/>
          <feMergeNode in="SourceGraphic"/>
        </feMerge>
      </filter>
    </defs>

    <!-- Background rings representing collaboration -->
    <g opacity="0.25" stroke="url(#associados-connection)" stroke-width="2" fill="none">
      <circle cx="400" cy="280" r="220"/>
      <circle cx="400" cy="280" r="300" stroke-dasharray="12 16"/>
    </g>

    <!-- Central hub for the community -->
    <circle cx="400" cy="280" r="90" fill="url(#associados-core)" filter="url(#associados-glow)"/>
    <circle cx="400" cy="280" r="46" fill="#0ea5e9" opacity="0.8">
      <animate attributeName="opacity" values="0.8;1;0.8" dur="4s" repeatCount="indefinite"/>
    </circle>

    <!-- Primary connections -->
    <g stroke="url(#associados-connection)" stroke-width="3" stroke-linecap="round" fill="none" opacity="0.75">
      <path d="M400,280 Q300,180 200,220"/>
      <path d="M400,280 Q500,180 600,220"/>
      <path d="M400,280 Q300,380 220,420"/>
      <path d="M400,280 Q500,380 580,420"/>
    </g>

    <!-- Connection pulses -->
    <g stroke="#38bdf8" stroke-width="2" stroke-linecap="round" fill="none" opacity="0.4">
      <path d="M220,220 Q260,260 300,240">
        <animate attributeName="stroke-opacity" values="0.4;0.8;0.4" dur="3s" repeatCount="indefinite"/>
      </path>
      <path d="M600,220 Q560,260 520,240">
        <animate attributeName="stroke-opacity" values="0.4;0.8;0.4" dur="3.2s" repeatCount="indefinite"/>
      </path>
      <path d="M220,420 Q260,360 300,380">
        <animate attributeName="stroke-opacity" values="0.4;0.8;0.4" dur="3.4s" repeatCount="indefinite"/>
      </path>
      <path d="M580,420 Q540,360 500,380">
        <animate attributeName="stroke-opacity" values="0.4;0.8;0.4" dur="3.6s" repeatCount="indefinite"/>
      </path>
    </g>

    <!-- Community nodes -->
    <g filter="url(#associados-glow)">
      <circle cx="200" cy="220" r="22" fill="url(#associados-node)">
        <animate attributeName="r" values="22;26;22" dur="5s" repeatCount="indefinite"/>
      </circle>
      <circle cx="600" cy="220" r="22" fill="url(#associados-node)">
        <animate attributeName="r" values="22;26;22" dur="4.8s" repeatCount="indefinite"/>
      </circle>
      <circle cx="220" cy="420" r="20" fill="url(#associados-node)">
        <animate attributeName="r" values="20;24;20" dur="5.2s" repeatCount="indefinite"/>
      </circle>
      <circle cx="580" cy="420" r="20" fill="url(#associados-node)">
        <animate attributeName="r" values="20;24;20" dur="4.6s" repeatCount="indefinite"/>
      </circle>
    </g>

    <!-- Secondary members -->
    <g fill="#bae6fd" opacity="0.8">
      <circle cx="160" cy="300" r="10">
        <animate attributeName="opacity" values="0.6;1;0.6" dur="4s" repeatCount="indefinite"/>
      </circle>
      <circle cx="260" cy="140" r="12">
        <animate attributeName="opacity" values="0.6;1;0.6" dur="4.2s" repeatCount="indefinite"/>
      </circle>
      <circle cx="540" cy="140" r="12">
        <animate attributeName="opacity" values="0.6;1;0.6" dur="4.4s" repeatCount="indefinite"/>
      </circle>
      <circle cx="660" cy="320" r="11">
        <animate attributeName="opacity" values="0.6;1;0.6" dur="4.6s" repeatCount="indefinite"/>
      </circle>
      <circle cx="340" cy="470" r="9">
        <animate attributeName="opacity" values="0.6;1;0.6" dur="4.1s" repeatCount="indefinite"/>
      </circle>
      <circle cx="460" cy="470" r="9">
        <animate attributeName="opacity" values="0.6;1;0.6" dur="4.3s" repeatCount="indefinite"/>
      </circle>
    </g>
  </svg>
</div>

  {% elif selected_bg == 'feed' %}
<!-- Feed Background -->
<div class="neural-bg-feed absolute inset-0 overflow-hidden">
  <svg class="w-full h-full" viewBox="0 0 800 600" xmlns="http://www.w3.org/2000/svg">
    <!-- Vertical data streams -->
    <g opacity="0.8">
      <line x1="150" y1="0" x2="150" y2="600" stroke="#0ea5e9" stroke-width="2"/>
      <line x1="300" y1="0" x2="300" y2="600" stroke="#3b82f6" stroke-width="2"/>
      <line x1="450" y1="0" x2="450" y2="600" stroke="#1e40af" stroke-width="2"/>
      <line x1="600" y1="0" x2="600" y2="600" stroke="#0ea5e9" stroke-width="1.5"/>
    </g>
    
    <!-- Data nodes flowing down -->
    <circle cx="150" cy="100" r="6" fill="#0ea5e9" opacity="0.9">
      <animateTransform attributeName="transform" type="translate" values="0,0; 0,500" dur="4s" repeatCount="indefinite"/>
      <animate attributeName="opacity" values="0.9;0.3;0.9" dur="4s" repeatCount="indefinite"/>
    </circle>
    <circle cx="300" cy="50" r="8" fill="#3b82f6" opacity="0.8">
      <animateTransform attributeName="transform" type="translate" values="0,0; 0,550" dur="5s" repeatCount="indefinite"/>
      <animate attributeName="opacity" values="0.8;0.2;0.8" dur="5s" repeatCount="indefinite"/>
    </circle>
    <circle cx="450" cy="150" r="7" fill="#1e40af" opacity="0.7">
      <animateTransform attributeName="transform" type="translate" values="0,0; 0,450" dur="3.5s" repeatCount="indefinite"/>
      <animate attributeName="opacity" values="0.7;0.2;0.7" dur="3.5s" repeatCount="indefinite"/>
    </circle>
    <circle cx="600" cy="80" r="5" fill="#0ea5e9" opacity="0.6">
      <animateTransform attributeName="transform" type="translate" values="0,0; 0,520" dur="4.5s" repeatCount="indefinite"/>
      <animate attributeName="opacity" values="0.6;0.2;0.6" dur="4.5s" repeatCount="indefinite"/>
    </circle>
    
    <!-- Cross connections -->
    <path d="M150,200 L300,180 L450,220 L600,200" stroke="#3b82f6" stroke-width="1" opacity="0.4" fill="none"/>
    <path d="M150,350 L300,330 L450,370 L600,350" stroke="#1e40af" stroke-width="1" opacity="0.3" fill="none"/>
  </svg>
</div>

  {% elif selected_bg == 'dashboard' %}
<!-- Dashboard Background -->
<div class="neural-bg-dashboard absolute inset-0 overflow-hidden">
  <svg class="w-full h-full" viewBox="0 0 800 600" xmlns="http://www.w3.org/2000/svg">
    <!-- Grid pattern -->
    <defs>
      <pattern id="grid" width="80" height="60" patternUnits="userSpaceOnUse">
        <path d="M 80 0 L 0 0 0 60" fill="none" stroke="#3b82f6" stroke-width="0.5" opacity="0.3"/>
      </pattern>
    </defs>
    <rect width="100%" height="100%" fill="url(#grid)"/>
    
    <!-- Data visualization nodes -->
    <g opacity="0.8">
      <!-- Chart-like connections -->
      <path d="M100,500 L200,400 L300,350 L400,300 L500,250 L600,200 L700,150" 
            stroke="#0ea5e9" stroke-width="3" fill="none"/>
      <path d="M100,450 L200,380 L300,320 L400,280 L500,240 L600,220 L700,180" 
            stroke="#3b82f6" stroke-width="2" fill="none" opacity="0.7"/>
      
      <!-- Data points -->
      <circle cx="100" cy="500" r="8" fill="#0ea5e9"/>
      <circle cx="200" cy="400" r="10" fill="#0ea5e9"/>
      <circle cx="300" cy="350" r="9" fill="#3b82f6"/>
      <circle cx="400" cy="300" r="11" fill="#3b82f6"/>
      <circle cx="500" cy="250" r="8" fill="#1e40af"/>
      <circle cx="600" cy="200" r="10" fill="#1e40af"/>
      <circle cx="700" cy="150" r="9" fill="#0ea5e9"/>
      
      <!-- Secondary data points -->
      <circle cx="150" cy="480" r="5" fill="#3b82f6" opacity="0.6"/>
      <circle cx="250" cy="390" r="6" fill="#1e40af" opacity="0.6"/>
      <circle cx="350" cy="340" r="5" fill="#0ea5e9" opacity="0.6"/>
      <circle cx="450" cy="290" r="7" fill="#3b82f6" opacity="0.6"/>
      <circle cx="550" cy="235" r="5" fill="#1e40af" opacity="0.6"/>
      <circle cx="650" cy="190" r="6" fill="#0ea5e9" opacity="0.6"/>
    </g>
  </svg>
</div>

  {% elif selected_bg == 'tokens' %}
<!-- Tokens Background -->
<div class="neural-bg-tokens absolute inset-0 overflow-hidden">
  <svg class="w-full h-full" viewBox="0 0 800 600" xmlns="http://www.w3.org/2000/svg">
    <!-- Blockchain-like structure -->
    <g opacity="0.8">
      <!-- Main chain -->
      <rect x="50" y="250" width="80" height="60" rx="8" fill="#0ea5e9" opacity="0.7"/>
      <rect x="180" y="250" width="80" height="60" rx="8" fill="#3b82f6" opacity="0.7"/>
      <rect x="310" y="250" width="80" height="60" rx="8" fill="#1e40af" opacity="0.7"/>
      <rect x="440" y="250" width="80" height="60" rx="8" fill="#0ea5e9" opacity="0.7"/>
      <rect x="570" y="250" width="80" height="60" rx="8" fill="#3b82f6" opacity="0.7"/>
      <rect x="700" y="250" width="80" height="60" rx="8" fill="#1e40af" opacity="0.7"/>
      
      <!-- Chain connections -->
      <line x1="130" y1="280" x2="180" y2="280" stroke="#0ea5e9" stroke-width="3"/>
      <line x1="260" y1="280" x2="310" y2="280" stroke="#3b82f6" stroke-width="3"/>
      <line x1="390" y1="280" x2="440" y2="280" stroke="#1e40af" stroke-width="3"/>
      <line x1="520" y1="280" x2="570" y2="280" stroke="#0ea5e9" stroke-width="3"/>
      <line x1="650" y1="280" x2="700" y2="280" stroke="#3b82f6" stroke-width="3"/>
      
      <!-- Branch connections -->
      <rect x="150" y="150" width="60" height="40" rx="6" fill="#3b82f6" opacity="0.5"/>
      <rect x="280" y="380" width="60" height="40" rx="6" fill="#1e40af" opacity="0.5"/>
      <rect x="500" y="120" width="60" height="40" rx="6" fill="#0ea5e9" opacity="0.5"/>
      <rect x="620" y="400" width="60" height="40" rx="6" fill="#3b82f6" opacity="0.5"/>
      
      <!-- Branch lines -->
      <line x1="220" y1="250" x2="180" y2="190" stroke="#3b82f6" stroke-width="2" opacity="0.6"/>
      <line x1="350" y1="310" x2="310" y2="380" stroke="#1e40af" stroke-width="2" opacity="0.6"/>
      <line x1="480" y1="250" x2="530" y2="160" stroke="#0ea5e9" stroke-width="2" opacity="0.6"/>
      <line x1="610" y1="310" x2="650" y2="400" stroke="#3b82f6" stroke-width="2" opacity="0.6"/>
    </g>
  </svg>
</div>

  {% elif selected_bg == 'configuracao' %}
<!-- Configuração Background -->
<div class="neural-bg-configuracao absolute inset-0 overflow-hidden">
  <svg class="w-full h-full" viewBox="0 0 800 600" xmlns="http://www.w3.org/2000/svg">
    <!-- Gear system -->
    <g opacity="0.8">
      <!-- Main gear -->
      <circle cx="400" cy="300" r="60" fill="none" stroke="#0ea5e9" stroke-width="4"/>
      <circle cx="400" cy="300" r="40" fill="#0ea5e9" opacity="0.3"/>
      
      <!-- Gear teeth -->
      <g stroke="#0ea5e9" stroke-width="3" fill="none">
        <line x1="400" y1="240" x2="400" y2="220"/>
        <line x1="442" y1="258" x2="454" y2="246"/>
        <line x1="442" y1="342" x2="454" y2="354"/>
        <line x1="400" y1="360" x2="400" y2="380"/>
        <line x1="358" y1="342" x2="346" y2="354"/>
        <line x1="358" y1="258" x2="346" y2="246"/>
      </g>
      
      <!-- Secondary gears -->
      <circle cx="250" cy="200" r="35" fill="none" stroke="#3b82f6" stroke-width="3"/>
      <circle cx="250" cy="200" r="25" fill="#3b82f6" opacity="0.3"/>
      
      <circle cx="550" cy="400" r="40" fill="none" stroke="#1e40af" stroke-width="3"/>
      <circle cx="550" cy="400" r="30" fill="#1e40af" opacity="0.3"/>
      
      <circle cx="600" cy="150" r="25" fill="none" stroke="#0ea5e9" stroke-width="2"/>
      <circle cx="600" cy="150" r="18" fill="#0ea5e9" opacity="0.3"/>
      
      <!-- Connecting mechanisms -->
      <line x1="340" y1="260" x2="285" y2="235" stroke="#3b82f6" stroke-width="2" opacity="0.6"/>
      <line x1="460" y1="340" x2="510" y2="360" stroke="#1e40af" stroke-width="2" opacity="0.6"/>
      <line x1="450" y1="250" x2="575" y2="175" stroke="#0ea5e9" stroke-width="2" opacity="0.6"/>
      
      <!-- Small adjustment nodes -->
      <circle cx="200" cy="350" r="8" fill="#3b82f6" opacity="0.7"/>
      <circle cx="650" cy="300" r="10" fill="#1e40af" opacity="0.7"/>
      <circle cx="300" cy="450" r="6" fill="#0ea5e9" opacity="0.7"/>
      <circle cx="500" cy="100" r="7" fill="#3b82f6" opacity="0.7"/>
    </g>
    
    <!-- Rotation animation -->
    <animateTransform attributeName="transform" type="rotate" values="0 400 300;360 400 300" dur="20s" repeatCount="indefinite"/>
  </svg>
</div>

  {% endif %}
{% endwith %}
