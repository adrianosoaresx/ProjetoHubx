{% load i18n %}
{% with default_section=perfil_default_section|default:"info" base_classes="inline-flex items-center gap-2 rounded-full border border-[var(--border)] bg-[var(--surface-secondary)] px-4 py-2 text-sm font-medium transition-colors hover:bg-[var(--surface-tertiary)] hover:text-[var(--text-primary)] focus:outline-none focus-visible:ring-2 focus-visible:ring-[var(--primary)] focus-visible:ring-offset-2" active_classes="is-active border-transparent bg-[var(--primary)] text-[var(--text-inverse)] shadow-sm" inactive_classes="text-[var(--text-secondary)]"%}
<nav class="mb-6" aria-label="{% trans 'Seções do perfil' %}">
  <ul class="flex flex-wrap gap-2">
    <li>
      <a
        href="?section=info"
        class="{{ base_classes }}{% if default_section == 'info' %} {{ active_classes }}{% else %} {{ inactive_classes }}{% endif %}"
        data-perfil-nav
        data-perfil-section="info"
        data-perfil-url="{% url 'accounts:perfil_info_partial' %}"
        data-perfil-default="{% if default_section == 'info' %}true{% else %}false{% endif %}"
  hx-get="{% url 'accounts:perfil_info_partial' %}"
  hx-target="#perfil-content"
  hx-push-url="?section=info"
  {% if not is_owner %}hx-vals='{"public_id":"{{ profile.public_id|default:perfil.public_id|escapejs }}","username":"{{ profile.username|default:perfil.username|escapejs }}"}'{% endif %}
        {% if default_section == 'info' %}aria-current="page"{% endif %}
      >
        {% trans "Info" %}
      </a>
    </li>
    <li>
      <a
        href="?section=portfolio"
        class="{{ base_classes }}{% if default_section == 'portfolio' %} {{ active_classes }}{% else %} {{ inactive_classes }}{% endif %}"
        data-perfil-nav
        data-perfil-section="portfolio"
        data-perfil-url="{% url 'accounts:perfil_portfolio' %}"
        data-perfil-default="{% if default_section == 'portfolio' %}true{% else %}false{% endif %}"
  hx-get="{% url 'accounts:perfil_portfolio' %}"
  hx-target="#perfil-content"
  hx-push-url="?section=portfolio"
  {% if not is_owner %}hx-vals='{"public_id":"{{ profile.public_id|default:perfil.public_id|escapejs }}","username":"{{ profile.username|default:perfil.username|escapejs }}"}'{% endif %}
        {% if default_section == 'portfolio' %}aria-current="page"{% endif %}
      >
        {% trans "Portfólio" %}
      </a>
    </li>
    {% if is_owner %}
    <li>
      <a
        href="?section=conexoes"
        class="{{ base_classes }}{% if default_section == 'conexoes' %} {{ active_classes }}{% else %} {{ inactive_classes }}{% endif %}"
        data-perfil-nav
        data-perfil-section="conexoes"
        data-perfil-url="{% url 'conexoes:perfil_conexoes_partial' %}"
        data-perfil-default="{% if default_section == 'conexoes' %}true{% else %}false{% endif %}"
  hx-get="{% url 'conexoes:perfil_conexoes_partial' %}"
  hx-target="#perfil-content"
  hx-push-url="?section=conexoes"
        {% if default_section == 'conexoes' %}aria-current="page"{% endif %}
      >
        {% trans "Conexões" %}
      </a>
    </li>
    {% endif %}
  </ul>
</nav>
{% endwith %}
