{% load i18n lucide_icons %}
          
<section class="relative isolate overflow-hidden">
  <div class="relative flex flex-col justify-end bg-gradient-to-r from-[var(--hero-from)] to-[var(--hero-to)] min-h-[400px] sm:min-h-[440px] lg:min-h-[480px] py-10 lg:py-14">
    {% if profile.cover %}
      <img src="{{ profile.cover.url }}" alt="" class="absolute inset-0 h-full w-full object-cover" loading="lazy">
    {% endif %}

    <div class="container relative mx-auto px-4 sm:px-6 lg:px-8">
      <div class="relative mx-auto w-full max-w-5xl">
        <div class="flex flex-col justify-end pb-24 sm:pb-28 lg:pb-40">
          <div class="translate-y-20 sm:translate-y-24 lg:translate-y-36 w-full">
            <div class="relative overflow-hidden rounded-3xl bg-black/60 px-4 pb-6 pt-16 sm:px-6 sm:pb-8 sm:pt-8 md:pt-10 ring-1 ring-white/15 shadow-2xl backdrop-blur text-white w-full">
              <div class="absolute left-1/2 top-0 z-20 -translate-y-1/2 -translate-x-1/2 sm:left-10 sm:-translate-x-0 sm:-translate-y-1/2">
                <div class="h-24 w-24 md:h-28 md:w-28 rounded-full ring-4 ring-white/90 overflow-hidden bg-[var(--bg-primary)] shadow-xl">
                  {% if profile.avatar %}
                    <img src="{{ profile.avatar_url }}" alt="{{ hero_title|default:profile.display_name|default:profile.username }}" class="h-full w-full object-cover" loading="lazy">
                  {% else %}
                    <div class="h-full w-full grid place-items-center text-2xl font-semibold text-white/80">
                      {{ profile.get_initials|default:profile.username|slice:":2"|upper }}
                    </div>
                  {% endif %}
                </div>
              </div>

              {% with display_name=hero_title|default:profile.display_name subtitle=hero_subtitle redes=profile.redes_sociais %}
                <div class="space-y-6">
                  <div class="text-center sm:text-left sm:pl-40 md:pl-48 space-y-2 sm:space-y-3">
                    <h2 class="inline-block rounded-lg bg-black/40 px-4 py-1 text-2xl md:text-3xl font-semibold drop-shadow text-white">
                      {{ display_name|default:profile.username }}
                    </h2>

                    <span class="inline-flex items-center gap-1 rounded-lg bg-white/15 px-2 py-0.5 text-sm sm:text-base font-medium text-white/80">
                      <span aria-hidden="true">@</span>{{ profile.username }}
                    </span>

                    {% if subtitle %}
                      <p class="text-sm sm:text-base text-white/80">
                        {{ subtitle }}
                      </p>
                    {% endif %}
                  </div>

                  <div class="flex flex-wrap items-center justify-center gap-3 text-white/90 sm:justify-start sm:pl-40 md:pl-48">
                    {% if redes %}
                      {% for rede, url in redes.items %}
                        {% if url %}
                          <a
                            href="{{ url }}"
                            target="_blank"
                            rel="noopener noreferrer"
                            aria-label="{{ rede|capfirst }}"
                            class="inline-flex items-center transition hover:scale-110"
                          >
                            {% lucide rede class="h-6 w-6 text-white hover:text-white/90" %}
                          </a>
                        {% endif %}
                      {% endfor %}
                    {% endif %}

                    {% if profile.whatsapp %}
                      <a
                        href="https://wa.me/{{ profile.whatsapp|cut:"+" }}"
                        class="inline-flex items-center transition hover:scale-110"
                        aria-label="WhatsApp"
                      >
                        {% lucide "whatsapp" width="28" height="28" %}
                      </a>
                    {% else %}
                      <span class="inline-flex items-center" aria-label="WhatsApp indisponÃ­vel">
                        {% lucide "whatsapp" class="h-8 w-8 text-gray-400" %}
                      </span>
                    {% endif %}
                  </div>
                </div>
              {% endwith %}
            </div>
          </div>
        </div>

      </div>
    </div>
  </div>
</section>
