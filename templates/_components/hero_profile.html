{% load i18n %}
<section class="relative isolate overflow-hidden">
  <div class="relative h-[260px] md:h-[320px] lg:h-[360px] bg-gradient-to-r from-[var(--hero-from)] to-[var(--hero-to)]">
    {% if profile.cover %}
      <img src="{{ profile.cover.url }}" alt="" class="absolute inset-0 h-full w-full object-cover" loading="lazy">
    {% endif %}

    <div class="relative mx-auto max-w-6xl h-full px-4">
      <div class="h-full flex flex-col justify-end pb-4 md:pb-6">
        
        <div class="rounded-2xl p-4 md:p-5  ring-1 ring-white/10 shadow-2xl text-white w-full">
          <!-- Linha 1: Avatar + Nome -->
          <div class="flex items-center gap-4">
            <div class="h-20 w-20 md:h-24 md:w-24 rounded-full ring-4 ring-white/90 overflow-hidden bg-[var(--bg-primary)] shrink-0">
              {% if profile.avatar %}
                <img src="{{ profile.avatar_url }}" alt="{{ profile.get_full_name|default:profile.username }}" class="h-full w-full object-cover" loading="lazy">
              {% else %}
                <div class="h-full w-full grid place-items-center text-2xl font-semibold text-white/80">
                  {{ profile.get_initials|default:profile.username|slice:":2"|upper }}
                </div>
              {% endif %}
            </div>

            <h2 class="bg-black/40 text-2xl md:text-3xl font-semibold drop-shadow text-white">
              {{ profile.get_full_name|default:profile.username }}
            </h2>
          </div>

          <!-- Linha 2: @usuario e WhatsApp -->
          <div class="mt-3 flex flex-wrap items-center gap-2">
            <span class="inline-block rounded-lg px-2 py-0.5 bg-black/60 text-white/90 text-sm">
              @{{ profile.username }}
            </span>

            {% if profile.whatsapp %}
            <a href="https://wa.me/{{ profile.whatsapp|cut:"+" }}" class="inline-flex items-center gap-2 rounded-lg px-2.5 py-1 bg-black/60 text-white hover:bg-black/70 transition">
              <svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" class="h-4 w-4 text-white/90" fill="currentColor" viewBox="0 0 24 24">
                <path d="M12 2C6.5 2 2 6.2 2 11.5c0 1.9.6 3.6 1.6 5l-1 3.6 3.7-1c1.3.7 2.9 1.1 4.6 1.1 5.5 0 10-4.2 10-9.5C20.9 6.2 17.5 2 12 2zm0 16.8c-1.5 0-2.9-.4-4.1-1.1l-.3-.2-2.2.6.6-2.1-.2-.3c-1-1.3-1.5-2.8-1.5-4.4 0-4.4 3.7-8 8.3-8 4.5 0 8.2 3.6 8.2 8 0 4.4-3.7 8-8.2 8z"/>
                <path d="M16.7 14.5c-.3-.2-1.7-.8-1.9-.9-.3-.1-.5-.2-.7.2-.2.3-.8.9-1 1-.2.1-.4.1-.7-.1-.3-.2-1.3-.5-2.5-1.7-.9-.8-1.5-1.8-1.7-2.1-.2-.3 0-.5.1-.7.2-.2.3-.4.4-.5.1-.2.2-.3.3-.5.1-.2 0-.4 0-.5 0-.2-.7-1.7-1-2.3-.3-.6-.5-.5-.7-.5h-.6c-.2 0-.5.1-.7.3-.2.3-.9.9-.9 2.2 0 1.3.9 2.5 1 2.7.1.2 1.8 2.9 4.3 4.1 1.6.7 2.2.8 3 .7.5-.1 1.7-.7 1.9-1.3.2-.6.2-1.1.1-1.3z"/>
              </svg>
              <span class="text-sm md:text-base">{{ profile.whatsapp }}</span>
            </a>
            {% else %}
            <span class="inline-flex items-center gap-2 rounded-lg px-2.5 py-1 bg-black/60 text-white">
              <svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" class="h-4 w-4 text-white/90" fill="currentColor" viewBox="0 0 24 24">
                <path d="M12 2C6.5 2 2 6.2 2 11.5c0 1.9.6 3.6 1.6 5l-1 3.6 3.7-1c1.3.7 2.9 1.1 4.6 1.1 5.5 0 10-4.2 10-9.5C20.9 6.2 17.5 2 12 2zm0 16.8c-1.5 0-2.9-.4-4.1-1.1l-.3-.2-2.2.6.6-2.1-.2-.3c-1-1.3-1.5-2.8-1.5-4.4 0-4.4 3.7-8 8.3-8 4.5 0 8.2 3.6 8.2 8 0 4.4-3.7 8-8.2 8z"/>
                <path d="M16.7 14.5c-.3-.2-1.7-.8-1.9-.9-.3-.1-.5-.2-.7.2-.2.3-.8.9-1 1-.2.1-.4.1-.7-.1-.3-.2-1.3-.5-2.5-1.7-.9-.8-1.5-1.8-1.7-2.1-.2-.3 0-.5.1-.7.2-.2.3-.4.4-.5.1-.2.2-.3.3-.5.1-.2 0-.4 0-.5 0-.2-.7-1.7-1-2.3-.3-.6-.5-.5-.7-.5h-.6c-.2 0-.5.1-.7.3-.2.3-.9.9-.9 2.2 0 1.3.9 2.5 1 2.7.1.2 1.8 2.9 4.3 4.1 1.6.7 2.2.8 3 .7.5-.1 1.7-.7 1.9-1.3.2-.6.2-1.1.1-1.3z"/>
              </svg>
              <span class="text-sm md:text-base">-</span>
            </span>
            {% endif %}
          </div>
          <!-- Linha 3: Botões -->

          <nav class="mt-4 flex flex-wrap items-center gap-2" aria-label="{% trans 'Seções do perfil' %}">
            <a
              href="{% url 'accounts:perfil_portfolio' %}"
              class="btn-hero"
              data-perfil-nav
              data-perfil-section="portfolio"
              data-perfil-url="{% url 'accounts:perfil_portfolio' %}"
              data-perfil-default="true"
              aria-controls="perfil-content"
            >
              {% trans "Portfólio" %}
            </a>
            <a
              href="{% url 'accounts:perfil_mural' %}"
              class="btn-hero"
              data-perfil-nav
              data-perfil-section="mural"
              data-perfil-url="{% url 'accounts:perfil_mural' %}"
              aria-controls="perfil-content"
            >
              {% trans "Mural" %}
            </a>
            <a
              href="{% url 'accounts:perfil_info_partial' %}"
              class="btn-hero"
              data-perfil-nav
              data-perfil-section="info"
              data-perfil-url="{% url 'accounts:perfil_info_partial' %}"
              aria-controls="perfil-content"
            >
              {% trans "Informações" %}
            </a>
            <a
              href="{% url 'accounts:perfil_nucleos' %}"
              class="btn-hero"
              data-perfil-nav
              data-perfil-section="nucleos"
              data-perfil-url="{% url 'accounts:perfil_nucleos' %}"
              aria-controls="perfil-content"
            >
              {% trans "Núcleos" %}
            </a>
            <a
              href="{% url 'accounts:perfil_eventos' %}"
              class="btn-hero"
              data-perfil-nav
              data-perfil-section="eventos"
              data-perfil-url="{% url 'accounts:perfil_eventos' %}"
              aria-controls="perfil-content"
            >
              {% trans "Eventos" %}
            </a>
            <a
              href="{% url 'accounts:perfil_conexoes_partial' %}"
              class="btn-hero"
              data-perfil-nav
              data-perfil-section="conexoes"
              data-perfil-url="{% url 'accounts:perfil_conexoes_partial' %}"
              aria-controls="perfil-content"
            >
              {% trans "Conexões" %}
            </a>
          </nav>

        </div>

      </div>
    </div>
  </div>
</section>
