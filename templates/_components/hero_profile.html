{% load i18n %}
{% with profile=profile|default:user %}
<section class="relative flex items-center justify-center h-48 bg-[var(--bg-primary)]">
  {% if profile.avatar %}
    <img src="{{ profile.avatar.url }}" alt="{{ profile.get_full_name|default:profile.username }}" class="absolute inset-0 w-full h-full object-cover opacity-80 blur-sm" loading="lazy">
    <img src="{{ profile.avatar.url }}" alt="{{ profile.get_full_name|default:profile.username }}" class="h-40 w-40 rounded-full ring-4 ring-[var(--bg-primary)] object-cover" loading="lazy">
  {% else %}
    <div class="absolute inset-0 w-full h-full opacity-80 blur-sm bg-[var(--bg-secondary)]"></div>
    <div class="h-40 w-40 rounded-full ring-4 ring-[var(--bg-primary)] bg-[var(--bg-secondary)] flex items-center justify-center text-4xl font-bold text-[var(--text-primary)]">
      {{ profile.username|slice:":2"|upper }}
    </div>
  {% endif %}
</section>
<div class="py-6 text-center">
  <h1 class="text-2xl font-bold">{{ profile.get_full_name|default:profile.username }}</h1>
  <p class="text-sm text-[var(--text-muted)]">@{{ profile.username }}</p>
  {% if action_template %}
  <div class="mt-4 flex justify-center gap-2">
    {% include action_template %}
  </div>
  {% endif %}
</div>
{% endwith %}
