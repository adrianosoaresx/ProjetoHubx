<section class="relative isolate overflow-hidden">
  <div class="relative h-[260px] md:h-[320px] lg:h-[360px] bg-gradient-to-r from-[var(--hero-from)] to-[var(--hero-to)]">
    {% if profile.cover %}
      <img src="{{ profile.cover.url }}" alt="" class="absolute inset-0 h-full w-full object-cover" loading="lazy">
    {% endif %}

    <div class="relative mx-auto max-w-6xl h-full px-4">
      <div class="h-full flex flex-col justify-end pb-4 md:pb-6">
        
        <div class="rounded-2xl p-4 md:p-5  ring-1 ring-white/10 shadow-2xl text-white w-full">
          <!-- Linha 1: Avatar + Nome -->
          <div class="flex items-center gap-4">
            <div class="h-20 w-20 md:h-24 md:w-24 rounded-full ring-4 ring-white/90 overflow-hidden bg-[var(--bg-primary)] shrink-0">
              {% if profile.avatar %}
                <img src="{{ profile.avatar_url }}" alt="{{ profile.get_full_name|default:profile.username }}" class="h-full w-full object-cover" loading="lazy">
              {% else %}
                <div class="h-full w-full grid place-items-center text-2xl font-semibold text-white/80">
                  {{ profile.get_initials|default:profile.username|slice:":2"|upper }}
                </div>
              {% endif %}
            </div>

            <h2 class="bg-black/40 text-2xl md:text-3xl font-semibold drop-shadow text-white">
              {{ profile.get_full_name|default:profile.username }}
            </h2>
          </div>

          <!-- Linha 2: @usuario, email e fone -->
          <div class="mt-3 flex flex-wrap items-center gap-2">
            <span class="inline-block rounded-lg px-2 py-0.5 bg-black/60 text-white/90 text-sm">
              @{{ profile.username }}
            </span>

            <a href="mailto:{{ profile.email }}" class="inline-flex items-center gap-2 rounded-lg px-2.5 py-1 bg-black/60 text-white hover:bg-black/70 transition break-all">
              <i class="fa-solid fa-envelope text-white/90"></i>
              <span class="text-sm md:text-base">{{ profile.email|default:"-" }}</span>
            </a>

            {% if profile.phone_number %}
            <a href="tel:{{ profile.phone_number }}" class="inline-flex items-center gap-2 rounded-lg px-2.5 py-1 bg-black/60 text-white hover:bg-black/70 transition">
              <i class="fa-solid fa-phone text-white/90"></i>
              <span class="text-sm md:text-base">{{ profile.phone_number.as_national }}</span>
            </a>
            {% else %}
            <span class="inline-flex items-center gap-2 rounded-lg px-2.5 py-1 bg-black/60 text-white">
              <i class="fa-solid fa-phone text-white/90"></i>
              <span class="text-sm md:text-base">-</span>
            </span>
            {% endif %}
          </div>
          <!-- Linha 3: Botões -->
          {% if is_owner %}
          <div class="mt-3 flex flex-wrap items-center gap-2">
            <a href="{% url 'accounts:info' %}" class="btn-hero">Info</a>
            <a href="{% url 'accounts:portfolio' %}" class="btn-hero">Portfólio</a>
            <a href="{% url 'feed:meu_mural' %}" class="btn-hero">Mural</a>
            <a href="{% url 'accounts:conexoes' %}" class="btn-hero">Conexões</a>
          </div>
          {% endif %}
        </div>

      </div>
    </div>
  </div>
</section>
