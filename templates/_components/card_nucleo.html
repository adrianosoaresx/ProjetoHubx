{% load i18n %}
{% with resolved_nucleo=item|default:nucleo %}
  {% if resolved_nucleo %}
    {% url 'nucleos:detail' resolved_nucleo.public_id as detail_url %}
    {% url 'nucleos:nucleacao_invite' resolved_nucleo.public_id as nucleacao_url %}
    {% with cta_container_id='nucleo-cta-'|add:resolved_nucleo.public_id|stringformat:'s' cta_focus_id='nucleo-cta-focus-'|add:resolved_nucleo.public_id|stringformat:'s' %}
      {% with cta_hx_on='htmx:beforeRequest: window.HubxModalTrigger = this; window.HubxModalTriggerContainer = "'|add:cta_container_id|add:'";' %}
        {% trans 'Ver detalhes do núcleo' as sr_label %}
        {% with classificacao=resolved_nucleo.classificacao %}
          {% if classificacao == 'planejamento' %}
            {% include '_partials/cards/base_card.html' with url=detail_url cover=resolved_nucleo.cover avatar=resolved_nucleo.avatar title=resolved_nucleo.nome details='_components/card_details_nucleo.html' sr_label=sr_label badge=resolved_nucleo.get_classificacao_display badge_style='--primary:#f97316; --primary-soft:rgba(249, 115, 22, 0.15); --primary-soft-border:rgba(249, 115, 22, 0.3);' cta_url=nucleacao_url cta_label=_('Quero me nuclear') cta_hx_get=nucleacao_url cta_hx_target='#modal' cta_hx_swap='innerHTML' cta_hx_on=cta_hx_on cta_container_id=cta_container_id cta_focus_id=cta_focus_id %}
          {% elif classificacao == 'constituido' %}
            {% include '_partials/cards/base_card.html' with url=detail_url cover=resolved_nucleo.cover avatar=resolved_nucleo.avatar title=resolved_nucleo.nome details='_components/card_details_nucleo.html' sr_label=sr_label badge=resolved_nucleo.get_classificacao_display badge_style='--primary:#22c55e; --primary-soft:rgba(34, 197, 94, 0.15); --primary-soft-border:rgba(34, 197, 94, 0.3);' cta_url=nucleacao_url cta_label=_('Quero me nuclear') cta_hx_get=nucleacao_url cta_hx_target='#modal' cta_hx_swap='innerHTML' cta_hx_on=cta_hx_on cta_container_id=cta_container_id cta_focus_id=cta_focus_id %}
          {% else %}
            {% include '_partials/cards/base_card.html' with url=detail_url cover=resolved_nucleo.cover avatar=resolved_nucleo.avatar title=resolved_nucleo.nome details='_components/card_details_nucleo.html' sr_label=sr_label badge=_('Formação') badge_style='--primary:#2563eb; --primary-soft:rgba(37, 99, 235, 0.15); --primary-soft-border:rgba(37, 99, 235, 0.3);' cta_url=nucleacao_url cta_label=_('Quero me nuclear') cta_hx_get=nucleacao_url cta_hx_target='#modal' cta_hx_swap='innerHTML' cta_hx_on=cta_hx_on cta_container_id=cta_container_id cta_focus_id=cta_focus_id %}
          {% endif %}
        {% endwith %}
      {% endwith %}
    {% endwith %}
  {% endif %}
{% endwith %}
