{% load i18n l10n %}
<section class="mb-8" id="notifications">
  <h2 class="text-xl font-semibold mb-4">{% trans "Notificações Recentes" %}</h2>
  <ul class="space-y-2">
    {% for log in notificacoes %}
    <li id="notification-{{ log.id }}" class="card">
      <div class="card-body flex justify-between items-center">
        <span>{{ log.template.assunto }}</span>
        <div class="flex items-center gap-2">
          <time
            datetime="{{ log.data_envio|date:'c' }}"
            class="text-sm text-[var(--text-tertiary)]"
            >{{ log.data_envio|date:'SHORT_DATETIME_FORMAT' }}</time>
          >
          <button
            hx-patch="{% url 'notificacoes_api:log-detail' log.id %}"
            hx-target="#notification-{{ log.id }}"
            hx-swap="outerHTML"
            hx-headers='{"X-CSRFToken": "{{ csrf_token }}"}'
            class="btn btn-secondary btn-sm"
          >
            {% trans "Marcar como lida" %}
          </button>
        </div>
      </div>
    </li>
    {% empty %}
    <li class="card">
      <div class="card-body text-[var(--text-muted)]">{% trans "Nenhuma notificação." %}</div>
    </li>
    {% endfor %}
  </ul>
</section>
