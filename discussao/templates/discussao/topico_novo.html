{% extends "base.html" %}
{% load widget_tweaks i18n %}

{% block title %}{% trans "Novo T\u00f3pico" %} | HubX{% endblock %}

{% block content %}
<section class="max-w-2xl mx-auto px-4 py-10">
  <h1 class="text-2xl font-bold text-neutral-900 mb-6">{% trans "Criar T\u00f3pico" %}</h1>
  {% if messages %}
  <div class="mb-4 space-y-2">
    {% for message in messages %}
      <p class="rounded-xl px-4 py-2 text-sm {{ message.tags == 'success'|yesno:'bg-green-100 text-green-700,bg-red-100 text-red-700' }}">{{ message }}</p>
    {% endfor %}
  </div>
  {% endif %}
  <form method="post" class="bg-white border border-neutral-200 rounded-2xl shadow-sm p-6 space-y-6">
    {% csrf_token %}
    <div>
      <label for="{{ form.titulo.id_for_label }}" class="block text-sm font-medium text-neutral-700 mb-1">{{ form.titulo.label }}</label>
      {{ form.titulo|add_class:'form-input' }}
      {% if form.titulo.errors %}<p class="text-sm text-red-600 mt-1">{{ form.titulo.errors.0 }}</p>{% endif %}
    </div>
    <div>
      <label for="{{ form.conteudo.id_for_label }}" class="block text-sm font-medium text-neutral-700 mb-1">{{ form.conteudo.label }}</label>
      {{ form.conteudo|add_class:'form-textarea' }}
      {% if form.conteudo.errors %}<p class="text-sm text-red-600 mt-1">{{ form.conteudo.errors.0 }}</p>{% endif %}
    </div>
    <div>
      <label for="{{ form.publico_alvo.id_for_label }}" class="block text-sm font-medium text-neutral-700 mb-1">{{ form.publico_alvo.label }}</label>
      {{ form.publico_alvo|add_class:'form-select' }}
      {% if form.publico_alvo.errors %}<p class="text-sm text-red-600 mt-1">{{ form.publico_alvo.errors.0 }}</p>{% endif %}
    </div>
    <div>
      <label for="{{ form.tags.id_for_label }}" class="block text-sm font-medium text-neutral-700 mb-1">{{ form.tags.label }}</label>
      {{ form.tags|add_class:'form-select' }}
      {% if form.tags.errors %}<p class="text-sm text-red-600 mt-1">{{ form.tags.errors.0 }}</p>{% endif %}
    </div>
    <div class="flex justify-end gap-3 pt-4 border-t border-neutral-100">
      <a href="{% url 'discussao:topicos' categoria.slug %}" class="text-sm px-4 py-2 rounded-xl border border-neutral-300 text-neutral-700 hover:bg-neutral-100">{% trans "Cancelar" %}</a>
      <button type="submit" class="text-sm px-4 py-2 rounded-xl bg-primary-600 text-white hover:bg-primary-700">{% trans "Publicar" %}</button>
    </div>
  </form>
</section>
{% endblock %}
