{% extends 'base.html' %}
{% load i18n static %}

{% block title %}{% trans 'Configurações da Conta' %}{% endblock %}
{% block hero %}{% include '_components/hero.html' with title=_('Configurações da Conta') %}{% endblock %}

{% block content %}
<main class="container mx-auto px-4 py-6">
  <section class="card bg-[var(--bg-elevated)] border border-[var(--border)] rounded-2xl shadow-sm">
    <header class="card-body border-b border-[var(--border)] p-6">
      <nav aria-label="{% trans 'Seções de Configuração' %}" role="tablist" class="flex flex-wrap gap-4 text-sm">
        <a href="{% url 'configuracoes:configuracoes' %}?tab=seguranca" role="tab" aria-selected="{% if tab == 'seguranca' %}true{% else %}false{% endif %}" aria-controls="content" hx-get="{% url 'configuracoes:configuracoes' %}?tab=seguranca" hx-target="#content" hx-swap="innerHTML" hx-push-url="true" tabindex="0" data-active-class="btn-secondary" class="btn {% if tab == 'seguranca' %}btn-secondary{% endif %}">{% trans 'Segurança' %}</a>
        <a href="{% url 'configuracoes:configuracoes' %}?tab=preferencias" role="tab" aria-selected="{% if tab == 'preferencias' %}true{% else %}false{% endif %}" aria-controls="content" hx-get="{% url 'configuracoes:configuracoes' %}?tab=preferencias" hx-target="#content" hx-swap="innerHTML" hx-push-url="true" tabindex="0" data-active-class="btn-secondary" class="btn {% if tab == 'preferencias' %}btn-secondary{% endif %}">{% trans 'Preferências' %}</a>
      </nav>
    </header>
    <div class="card-body p-6" id="content" role="tabpanel" hx-get="{% url 'configuracoes:configuracoes' %}?tab={{ tab }}" hx-trigger="load">
      {% if tab == 'seguranca' %}
        {% include 'configuracoes/_partials/seguranca.html' %}
      {% elif tab == 'preferencias' %}
        {% include 'configuracoes/_partials/preferencias.html' %}
      {% endif %}
    </div>
  </section>
</main>
{% endblock %}

{% block scripts %}
  {{ block.super }}
  <script src="{% static 'configuracoes/preferencias.js' %}"></script>
{% endblock %}
