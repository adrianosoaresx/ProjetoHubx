{% load i18n %}
<div class="mt-3 flex flex-1 flex-col gap-4 text-center">
  <p class="text-sm text-[var(--text-secondary)]">
    {% blocktrans with nucleo=solicitacao.nucleo.nome data=solicitacao.data_solicitacao|date:'d/m/Y H:i' %}
      Núcleo {{ nucleo }} • Solicitação em {{ data }}
    {% endblocktrans %}
  </p>

  <div class="mt-auto grid w-full grid-cols-2 gap-2">
    <form
      method="post"
      action="{% url 'nucleos:nucleacao_cancelar' solicitacao.pk %}"
      hx-post="{% url 'nucleos:nucleacao_cancelar' solicitacao.pk %}"
      hx-target="closest [data-carousel-page]"
      hx-swap="none"
      hx-on="htmx:afterRequest: if (event.detail.successful && !event.detail.xhr.getResponseHeader('HX-Refresh')) { window.location.reload(); }"
    >
      {% csrf_token %}
      <button
        type="submit"
        class="btn btn-ghost btn-sm relative z-20 w-full text-[var(--color-error-600)]"
      >
        {% trans "Cancelar" %}
      </button>
    </form>
    <button
      class="btn btn-primary btn-sm relative z-20 w-full"
      hx-get="{% url 'nucleos:nucleacao_promover' solicitacao.pk %}"
      hx-target="#modal"
      hx-swap="innerHTML"
      hx-on="htmx:beforeRequest: window.HubxModalTrigger = this;"
    >
      {% trans "Promover" %}
    </button>
  </div>
</div>
