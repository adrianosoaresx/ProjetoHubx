{% extends 'base.html' %}
{% load i18n l10n %}

{% block title %}{{ object.nome }}{% endblock %}

{% block hero %}
  {% include '_components/hero_nucleo_detail.html' with nucleo=object %}
{% endblock %}

{% block content %}
  <section class="max-w-5xl mx-auto py-8">
    <div class="card px-4">
      <div class="card-body space-y-6">

        

        {% with section=current_section|default:"membros" %}
          {% if section == 'membros' %}
            <section id="nucleo-membros" class="space-y-6">
              {% url 'nucleos:membros_list' object.pk as membros_list_url %}
              <div
                id="membros-list"
                hx-get="{{ membros_list_url }}?page={{ page_obj.number }}{% if querystring %}&{{ querystring }}{% endif %}"
                hx-trigger="load"
                hx-target="#membros-list"
                hx-swap="innerHTML"
              >
                {% include 'nucleos/partials/membros_list.html' %}
              </div>
            </section>
          
          {% endif %}
        {% endwith %}

        <div class="flex justify-end">
          {% if perms.nucleos.delete_nucleo %}
            <a
              href="{% url 'nucleos:delete' object.pk %}"
              class="btn btn-danger btn-sm"
              hx-confirm="Deseja realmente excluir?"
            >{% trans "Excluir" %}</a>
          {% endif %}
        </div>
      </div>
    </div>
  </section>

  <div id="modal"></div>
{% endblock %}
