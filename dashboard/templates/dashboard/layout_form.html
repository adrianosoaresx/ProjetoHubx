{% extends "base.html" %}
{% load i18n static %}
{% block title %}{% trans "Layout" %} | Hubx{% endblock %}
{% block content %}
<main class="max-w-7xl mx-auto p-4" role="main" aria-label="{% trans 'Layout form' %}">
  <h1 class="text-2xl mb-4">{% trans "Layout" %}</h1>
  <form method="post">
    {% csrf_token %}
    <div class="mb-4">
      <label for="id_nome" class="block mb-1">{% trans "Nome" %}</label>
      {{ form.nome }}
    </div>
    {% if request.user.user_type in ['root','admin'] %}
    <div class="mb-4">
      <label for="id_publico" class="block">{{ form.publico.label }}</label>
      {{ form.publico }}
    </div>

    {% else %}
    <p class="mb-4 text-sm text-neutral-700">{% trans 'Apenas administradores podem publicar itens.' %}</p>
    {% endif %}
    <input type="hidden" name="layout_json" id="layout_json" value="{{ object.layout_json|default:'{}' }}">

    <button type="submit" class="btn btn-primary">{% trans "Salvar" %}</button>
  </form>
  {% include 'dashboard/partials/metrics_list.html' %}
</main>
{% endblock %}

{% block extra_js %}
  <script src="{% static 'dashboard/layout.bundle.js' %}"></script>
{% endblock %}
