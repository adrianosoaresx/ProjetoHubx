{% extends 'base.html' %}
{% load i18n widget_tweaks %}
{% block title %}{% trans 'Métrica personalizada' %}{% endblock %}

{% block hero %}
  {% include '_components/hero.html' with title=_('Métrica personalizada') %}
{% endblock %}

{% block content %}
  <div class="py-12 max-w-md mx-auto px-4">
    <div class="card">
      <div class="card-body">
        <form method="post" class="space-y-4" aria-label="{% trans 'Formulário de métrica personalizada' %}">
          {% csrf_token %}
          {% trans 'Código' as code_label %}
          <div class="relative">
            {% if form.code.errors %}
              {% render_field form.code class="peer placeholder-transparent w-full rounded border border-neutral-300 px-3 py-2 focus:outline-none focus:ring-2 focus:ring-primary-500" placeholder=code_label aria-describedby="code_error" aria-invalid="true" %}
            {% else %}
              {% render_field form.code class="peer placeholder-transparent w-full rounded border border-neutral-300 px-3 py-2 focus:outline-none focus:ring-2 focus:ring-primary-500" placeholder=code_label aria-describedby="code_error" %}
            {% endif %}
            <label for="{{ form.code.id_for_label }}" class="absolute left-3 -top-2 text-xs text-neutral-700 transition-all peer-placeholder-shown:top-2 peer-placeholder-shown:text-sm peer-placeholder-shown:text-neutral-400 peer-focus:-top-2 peer-focus:text-xs peer-focus:text-primary-600">{{ code_label }}</label>
            {% if form.code.errors %}
              <div id="code_error" class="text-red-600 text-xs mt-1" role="alert">{{ form.code.errors }}</div>
            {% endif %}
          </div>
          {% trans 'Nome' as nome_label %}
          <div class="relative">
            {% if form.nome.errors %}
              {% render_field form.nome class="peer placeholder-transparent w-full rounded border border-neutral-300 px-3 py-2 focus:outline-none focus:ring-2 focus:ring-primary-500" placeholder=nome_label aria-describedby="nome_error" aria-invalid="true" %}
            {% else %}
              {% render_field form.nome class="peer placeholder-transparent w-full rounded border border-neutral-300 px-3 py-2 focus:outline-none focus:ring-2 focus:ring-primary-500" placeholder=nome_label aria-describedby="nome_error" %}
            {% endif %}
            <label for="{{ form.nome.id_for_label }}" class="absolute left-3 -top-2 text-xs text-neutral-700 transition-all peer-placeholder-shown:top-2 peer-placeholder-shown:text-sm peer-placeholder-shown:text-neutral-400 peer-focus:-top-2 peer-focus:text-xs peer-focus:text-primary-600">{{ nome_label }}</label>
            {% if form.nome.errors %}
              <div id="nome_error" class="text-red-600 text-xs mt-1" role="alert">{{ form.nome.errors }}</div>
            {% endif %}
          </div>
          {% trans 'Descrição' as descricao_label %}
          <div class="relative">
            {% if form.descricao.errors %}
              {% render_field form.descricao class="peer placeholder-transparent w-full rounded border border-neutral-300 px-3 py-2 focus:outline-none focus:ring-2 focus:ring-primary-500" placeholder=descricao_label aria-describedby="descricao_error" aria-invalid="true" %}
            {% else %}
              {% render_field form.descricao class="peer placeholder-transparent w-full rounded border border-neutral-300 px-3 py-2 focus:outline-none focus:ring-2 focus:ring-primary-500" placeholder=descricao_label aria-describedby="descricao_error" %}
            {% endif %}
            <label for="{{ form.descricao.id_for_label }}" class="absolute left-3 -top-2 text-xs text-neutral-700 transition-all peer-placeholder-shown:top-2 peer-placeholder-shown:text-sm peer-placeholder-shown:text-neutral-400 peer-focus:-top-2 peer-focus:text-xs peer-focus:text-primary-600">{{ descricao_label }}</label>
            {% if form.descricao.errors %}
              <div id="descricao_error" class="text-red-600 text-xs mt-1" role="alert">{{ form.descricao.errors }}</div>
            {% endif %}
          </div>
          {% trans 'Query spec' as query_label %}
          <div class="relative">
            {% if form.query_spec.errors %}
              {% render_field form.query_spec class="peer placeholder-transparent w-full rounded border border-neutral-300 px-3 py-2 focus:outline-none focus:ring-2 focus:ring-primary-500" placeholder=query_label aria-describedby="query_error" aria-invalid="true" %}
            {% else %}
              {% render_field form.query_spec class="peer placeholder-transparent w-full rounded border border-neutral-300 px-3 py-2 focus:outline-none focus:ring-2 focus:ring-primary-500" placeholder=query_label aria-describedby="query_error" %}
            {% endif %}
            <label for="{{ form.query_spec.id_for_label }}" class="absolute left-3 -top-2 text-xs text-neutral-700 transition-all peer-placeholder-shown:top-2 peer-placeholder-shown:text-sm peer-placeholder-shown:text-neutral-400 peer-focus:-top-2 peer-focus:text-xs peer-focus:text-primary-600">{{ query_label }}</label>
            {% if form.query_spec.errors %}
              <div id="query_error" class="text-red-600 text-xs mt-1" role="alert">{{ form.query_spec.errors }}</div>
            {% endif %}
          </div>
          {% trans 'Escopo' as escopo_label %}
          <div class="relative">
            {% if form.escopo.errors %}
              {% render_field form.escopo class="peer placeholder-transparent w-full rounded border border-neutral-300 px-3 py-2 focus:outline-none focus:ring-2 focus:ring-primary-500" placeholder=escopo_label aria-describedby="escopo_error" aria-invalid="true" %}
            {% else %}
              {% render_field form.escopo class="peer placeholder-transparent w-full rounded border border-neutral-300 px-3 py-2 focus:outline-none focus:ring-2 focus:ring-primary-500" placeholder=escopo_label aria-describedby="escopo_error" %}
            {% endif %}
            <label for="{{ form.escopo.id_for_label }}" class="absolute left-3 -top-2 text-xs text-neutral-700 transition-all peer-placeholder-shown:top-2 peer-placeholder-shown:text-sm peer-placeholder-shown:text-neutral-400 peer-focus:-top-2 peer-focus:text-xs peer-focus:text-primary-600">{{ escopo_label }}</label>
            {% if form.escopo.errors %}
              <div id="escopo_error" class="text-red-600 text-xs mt-1" role="alert">{{ form.escopo.errors }}</div>
            {% endif %}
          </div>
          <div class="pt-4 border-t border-neutral-100 flex justify-end">
            <button type="submit" class="btn btn-primary" aria-label="{% trans 'Salvar métrica' %}">{% trans 'Salvar' %}</button>
          </div>
        </form>
      </div>
    </div>
  </div>
{% endblock %}

