{% extends 'base.html' %}
{% load i18n widget_tweaks %}

{% block title %}{% trans "Editar Organização" %} | Hubx{% endblock %}

{% block content %}
{% include 'components/hero.html' with title=_('Editar Organização') %}
<div class="container mx-auto p-6">
  <div class="max-w-2xl mx-auto">
    <div class="card">
      <div class="card-body">
        {% if messages %}
        <div class="mb-4 space-y-2">
          {% for message in messages %}
            <p class="rounded-xl px-4 py-2 text-sm {% if 'success' in message.tags %}bg-green-100 text-green-700{% else %}bg-red-100 text-red-700{% endif %}">{{ message }}</p>
          {% endfor %}
        </div>
        {% endif %}

        <form method="post" enctype="multipart/form-data" class="space-y-6">
          {% csrf_token %}
          {% for field in form %}
          <div class="relative">
            {% if field.errors %}
              {% render_field field class="peer w-full rounded border border-neutral-300 px-3 py-2 placeholder-transparent focus:outline-none focus:ring-2 focus:ring-primary-500" placeholder=field.label aria-describedby=field.name|add:'_error' aria-invalid="true" %}
            {% else %}
              {% render_field field class="peer w-full rounded border border-neutral-300 px-3 py-2 placeholder-transparent focus:outline-none focus:ring-2 focus:ring-primary-500" placeholder=field.label aria-describedby=field.name|add:'_error' %}
            {% endif %}
            <label for="{{ field.id_for_label }}" class="absolute left-3 -top-2 text-xs text-neutral-700 transition-all peer-placeholder-shown:top-2 peer-placeholder-shown:text-sm peer-placeholder-shown:text-neutral-400 peer-focus:-top-2 peer-focus:text-xs peer-focus:text-primary-600">{{ field.label }}</label>
            {% if field.errors %}
              <div id="{{ field.name }}_error" class="text-red-600 text-xs mt-1" role="alert">{{ field.errors }}</div>
            {% endif %}
          </div>
          {% endfor %}
          <div class="flex justify-end gap-3 pt-4 border-t border-neutral-100">
            <a href="{% url 'organizacoes:list' %}" class="btn-secondary" aria-label="{% trans 'Cancelar edição' %}">{% trans "Cancelar" %}</a>
            <button type="submit" class="btn-primary" aria-label="{% trans 'Salvar organização' %}">{% trans "Salvar" %}</button>
          </div>
        </form>
      </div>
    </div>
    <div class="text-right mt-6">
      <a href="{% url 'organizacoes:list' %}" class="text-sm text-primary hover:underline">{% trans "Voltar à lista" %}</a>
    </div>
  </div>
</div>
{% endblock %}

