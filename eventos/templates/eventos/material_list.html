{% extends "base.html" %}
{% load i18n %}

{% block title %}{% trans "Materiais de Divulgação" %} | Hubx{% endblock %}

{% block hero %}
  {% include '_components/hero.html' with title=_('Materiais de Divulgação') %}
{% endblock %}

{% block content %}
<div id="material-container"  class="py-12 px-4">
  <div class="card">
    <div class="card-header flex items-center justify-between">
      <a href="{% url 'eventos:material_criar' %}" class="btn-primary">{% trans "Novo Material" %}</a>
    </div>
    <div class="card-body">
      <form method="get" class="mb-6 flex gap-2">
        <input type="text" name="q" value="{{ request.GET.q }}" placeholder="{% trans 'Buscar por título' %}" class="form-input w-full rounded-md px-3 py-2" />
        <button type="submit" class="btn-primary">{% trans "Filtrar" %}</button>
      </form>

      <div class="overflow-x-auto bg-[var(--bg-secondary)] border border-[var(--border)] rounded-2xl shadow-sm">
        <table class="min-w-full divide-y divide-[var(--border)] table-auto text-sm">
          <thead class="bg-[var(--bg-secondary)]">
            <tr>
              <th class="px-4 py-2 text-left font-semibold text-[var(--text-secondary)]">{% trans "Título" %}</th>
              <th class="px-4 py-2 text-left font-semibold text-[var(--text-secondary)]">{% trans "Descrição" %}</th>
              <th class="px-4 py-2 text-left font-semibold text-[var(--text-secondary)]">{% trans "Status" %}</th>
              <th class="px-4 py-2 text-left font-semibold text-[var(--text-secondary)]">{% trans "Arquivo" %}</th>
              <th class="px-4 py-2 text-left font-semibold text-[var(--text-secondary)]">{% trans "Ações" %}</th>
            </tr>
          </thead>
          <tbody class="divide-y divide-[var(--border)]">
            {% for material in materiais %}
              {% include "eventos/_material_row.html" with material=material %}
            {% empty %}
              <tr>
                <td colspan="5" class="px-4 py-4 text-center text-[var(--text-secondary)]">{% trans "Nenhum material disponível." %}</td>
              </tr>
            {% endfor %}
          </tbody>
        </table>
      </div>

      {% include '_partials/pagination.html' with page_obj=page_obj querystring=querystring %}

      <footer class="mt-6 text-right">
        <a href="{% url 'eventos:calendario' %}" class="text-sm link link-hover">{% trans "Voltar aos eventos" %}</a>
      </footer>
    </div>
  </div>
</div>
{% endblock %}
