{% load i18n %}
{% include "eventos/partials/_painel_hero_oob.html" with painel_hero_template=evento|yesno:'_components/hero_eventos_detail.html,' evento=evento %}
{% include "eventos/partials/eventos/_nav.html" with current_section='tarefas' briefing_evento=briefing_evento briefing_url=briefing_url briefing_label=briefing_label %}
<section class="py-12 px-4">
  <div class="card-grid gap-6">
    <article class="card">
      <div class="card-header">
        <h2 class="text-xl font-semibold">{% trans "Detalhes" %}</h2>
      </div>
      <div class="card-body">
        {% if object.descricao %}
          <p class="mb-4 text-sm">{{ object.descricao }}</p>
        {% endif %}
        <div class="space-y-2 text-sm">
          <p><strong>{% trans "Data de início" %}:</strong> {{ object.data_inicio|date:'SHORT_DATETIME_FORMAT' }}</p>
          <p><strong>{% trans "Data de fim" %}:</strong> {{ object.data_fim|date:'SHORT_DATETIME_FORMAT' }}</p>
          <p><strong>{% trans "Responsável" %}:</strong> {{ object.responsavel }}</p>
          <p><strong>{% trans "Status" %}:</strong> {{ object.get_status_display }}</p>
        </div>
      </div>
    </article>

    <article class="card md:col-span-2">
      <div class="card-header">
        <h2 class="text-lg font-semibold">{% trans "Logs" %}</h2>
      </div>
      <div class="card-body">
        {% if logs %}
          <div class="overflow-x-auto bg-[var(--bg-secondary)] border border-[var(--border)] rounded-2xl card-sm">
            <table class="min-w-full divide-y divide-[var(--border)] text-sm">
              <thead class="bg-[var(--bg-secondary)]">
                <tr>
                  <th class="px-4 py-2 text-left font-semibold text-[var(--text-secondary)] text-xs">{% trans "Data" %}</th>
                  <th class="px-4 py-2 text-left font-semibold text-[var(--text-secondary)] text-xs">{% trans "Usuário" %}</th>
                  <th class="px-4 py-2 text-left font-semibold text-[var(--text-secondary)] text-xs">{% trans "Ação" %}</th>
                </tr>
              </thead>
              <tbody class="divide-y divide-[var(--border)]">
                {% for log in logs %}
                <tr>
                  <td class="px-4 py-2">{{ log.created_at|date:'SHORT_DATETIME_FORMAT' }}</td>
                  <td class="px-4 py-2">{{ log.usuario }}</td>
                  <td class="px-4 py-2">{{ log.acao }}</td>
                </tr>
                {% endfor %}
              </tbody>
            </table>
          </div>
        {% else %}
          <p class="text-sm">{% trans "Nenhum log disponível." %}</p>
        {% endif %}
      </div>
    </article>
  </div>

  <div class="flex justify-end mt-6">
    <a href="{% url 'eventos:tarefa_list' %}" class="btn btn-secondary" aria-label="{% trans 'Voltar' %}">{% trans 'Voltar' %}</a>
  </div>
</section>

