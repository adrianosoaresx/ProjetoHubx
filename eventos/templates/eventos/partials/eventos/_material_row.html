{% load i18n %}
<tr id="material-{{ material.pk }}">
  <td class="px-4 py-2">{{ material.titulo }}</td>
  <td class="px-4 py-2">{{ material.descricao }}</td>
  <td class="px-4 py-2">{{ material.get_status_display }}</td>
  <td class="px-4 py-2">{{ material.arquivo.name }}</td>
  <td class="px-4 py-2">
    <div class="flex flex-col gap-1">
      <a href="{{ material.arquivo.url }}" class="link link-hover">
        {% trans "Download" %}
      </a>
      {% if user.user_type == 'admin' or user.user_type == 'coordenador' %}
      <form
        hx-post="{% url 'eventos_api:material-aprovar' material.pk %}"
        hx-target="closest tr"
        hx-swap="outerHTML"
        class="inline"
      >
        {% csrf_token %}
        <button type="submit" class="btn btn-secondary btn-sm">{% trans "Aprovar" %}</button>
      </form>
      <form
        hx-post="{% url 'eventos_api:material-devolver' material.pk %}"
        hx-target="closest tr"
        hx-swap="outerHTML"
        class="inline-flex items-center gap-1"
      >
        {% csrf_token %}
        <input
          type="text"
          name="motivo_devolucao"
          placeholder="{% trans 'Motivo' %}"
          class="border rounded px-1 py-0.5 text-xs"
          required
        />
        <button type="submit" class="btn btn-danger btn-sm">{% trans "Devolver" %}</button>
      </form>
      {% endif %}
    </div>
  </td>
</tr>
