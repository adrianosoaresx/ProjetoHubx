{% extends 'base.html' %}
{% load i18n %}

{% block title %}{{ list_title|default_if_none:painel_title|default_if_none:_("Eventos")|default:_("Eventos") }}{% endblock %}

{% block hero %}
  {% include list_hero_template|default_if_none:painel_hero_template|default_if_none:'_components/hero_evento.html'|default:'_components/hero_evento.html' with title=list_title|default_if_none:painel_title|default_if_none:_('Eventos')|default:_('Eventos') subtitle=list_subtitle|default_if_none:painel_subtitle action_template=list_hero_action_template|default_if_none:painel_action_template breadcrumb_template=list_hero_breadcrumb_template|default_if_none:painel_breadcrumb_template neural_background=list_hero_neural_background|default_if_none:painel_neural_background style=list_hero_style|default_if_none:painel_hero_style total_eventos=list_total_eventos total_eventos_planejamento=list_total_eventos_planejamento total_eventos_ativos=list_total_eventos_ativos total_eventos_concluidos=list_total_eventos_concluidos total_eventos_cancelados=list_total_eventos_cancelados %}
{% endblock %}

{% block content %}
  <section class="mx-auto max-w-6xl px-4 lg:px-6 py-6">
    <div id="eventos-conteudo">
      <div class="card">
        <div class="card-header">
          <h2 class="text-xl font-semibold">{{ list_title|default_if_none:_("Eventos")|default:_("Eventos") }}</h2>
          {% block list_actions %}{% endblock %}
        </div>
        <div class="card-body">
          {% with card_template=list_card_template|default_if_none:'_components/card_evento.html'|default:'_components/card_evento.html' %}
          {% with card_item_name=item_context_name|default_if_none:'evento'|default:'evento' %}
            <div
              role="list"
              aria-label="{{ list_aria_label|default_if_none:_('Lista de eventos')|default:_('Lista de eventos') }}"
              class="card-grid sm:grid-cols-1 md:grid-cols-2 lg:grid-cols-2 xl:grid-cols-2 items-stretch"
            >
              {% for evento in object_list %}
                {% include card_template with item=evento evento=evento item_context_name=card_item_name %}
              {% empty %}
                <p class="col-span-full text-center text-[var(--text-muted)]">{{ empty_message|default_if_none:_('Nenhum evento encontrado.')|default:_('Nenhum evento encontrado.') }}</p>
              {% endfor %}
            </div>
          {% endwith %}
          {% endwith %}
          {% with pagination_hx_target=list_pagination_hx_target|default:pagination_hx_target|default:'#eventos-conteudo' %}
          {% with pagination_hx_get=list_pagination_hx_get|default:pagination_hx_get|default:request.path %}
          {% with pagination_hx_indicator=list_pagination_hx_indicator|default:pagination_hx_indicator|default:'#eventos-loading' %}
            {% include '_partials/pagination.html' with page_obj=page_obj querystring=querystring hx_target=pagination_hx_target hx_get=pagination_hx_get hx_push_url=list_pagination_hx_push_url|default:pagination_hx_push_url|default:'true' hx_indicator=pagination_hx_indicator %}
          {% endwith %}
          {% endwith %}
          {% endwith %}
          {% include '_partials/htmx_filter_state.html' with state_id=list_filter_state_id|default:filter_state_id|default:'eventos-filter-state' state_value=current_filter|default:'todos' state_classes=list_filter_state_classes|default:filter_state_classes|default:'hidden' %}
          {% block list_footer %}{% endblock %}
        </div>
      </div>
    </div>
    <div
      id="eventos-loading"
      class="htmx-indicator mt-6 text-center text-sm text-[var(--text-secondary)]"
      role="status"
      aria-live="polite"
    >
      {% trans 'Carregando eventos...' %}
    </div>
  </section>
{% endblock %}
