{% load i18n %}
<div class="space-y-3" data-profile-file>
  {% if widget.is_initial %}
    <div class="flex flex-wrap items-center gap-2 text-sm text-[var(--text-secondary)]">
      <span>{{ widget.initial_text }}:</span>
      {% if widget.value and widget.value.url %}
        <a
          href="{{ widget.value.url }}"
          class="link"
          target="_blank"
          rel="noopener"
        >
          {{ widget.value_name|default:widget.value }}
        </a>
      {% else %}
        <span>{{ widget.value_name|default:widget.value }}</span>
      {% endif %}
      {% if not widget.required %}
        <label
          for="{{ widget.checkbox_id }}"
          class="inline-flex items-center gap-2 text-xs text-[var(--text-secondary)]"
        >
          <input
            type="checkbox"
            name="{{ widget.checkbox_name }}"
            id="{{ widget.checkbox_id }}"
            class="form-checkbox"
            data-profile-file-clear
            data-empty-text="{{ widget.empty_label }}"
          />
          <span>{{ widget.clear_checkbox_label }}</span>
        </label>
      {% endif %}
    </div>
  {% endif %}
  <div class="flex flex-col gap-2 sm:flex-row sm:items-center">
    <label
      for="{{ widget.attrs.id }}"
      class="btn btn-secondary"
      data-profile-file-button
    >
      {{ widget.button_label }}
    </label>
    <span
      class="text-sm text-[var(--text-secondary)]"
      data-profile-file-name
      aria-live="polite"
    >
      {{ widget.empty_label }}
    </span>
  </div>
  <input
    type="{{ widget.type }}"
    name="{{ widget.name }}"
    {% include "django/forms/widgets/attrs.html" %}
  />
</div>
