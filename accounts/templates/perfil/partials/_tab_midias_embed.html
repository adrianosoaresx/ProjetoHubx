{% load i18n %}
<div class="section-header mb-4 flex items-center justify-between">
  <h2 class="text-base font-semibold text-[var(--text-primary)]">{% trans "MÃ­dias recentes" %}</h2>
  {% if not publico %}
    <a href="{% url 'accounts:midias' %}" class="btn-secondary btn-sm">{% trans "Gerenciar" %}</a>
  {% endif %}
</div>
<div class="card-grid">
  {% for media in midias_recent %}
      <article class="card">
        <a href="{% url 'accounts:midia_detail' media.pk %}">
          {% if media.media_type == 'image' %}
            <img src="{{ media.file.url }}" alt="{{ media.descricao }}" class="object-cover w-full h-40 rounded" loading="lazy">
          {% elif media.media_type == 'video' %}
            <video src="{{ media.file.url }}" class="w-full h-40 rounded" controls></video>
          {% elif media.media_type == 'pdf' %}
            <object data="{{ media.file.url }}" type="application/pdf" class="w-full h-40 rounded"></object>
          {% else %}
            <span class="text-sm">{{ media.file.name }}</span>
          {% endif %}
        </a>
      </article>
  {% empty %}
      <p class="text-sm text-[var(--text-secondary)]">{% trans "Nenhum arquivo enviado." %}</p>
  {% endfor %}
</div>
