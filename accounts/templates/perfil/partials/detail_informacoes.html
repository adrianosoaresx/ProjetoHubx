{% load i18n %}
<dl class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6 text-sm">
  <div class="flex flex-col gap-1 rounded-lg border border-[var(--border)] px-3 py-2">
    <dt class="text-[var(--text-secondary)]">{% trans "Endere√ßo" %}</dt>
    <dd class="font-medium text-[var(--text-primary)]">{{ user.endereco }}</dd>
  </div>
  <div class="flex flex-col gap-1 rounded-lg border border-[var(--border)] px-3 py-2">
    <dt class="text-[var(--text-secondary)]">{% trans "Cidade / Estado" %}</dt>
    <dd class="font-medium text-[var(--text-primary)]">{{ user.cidade }} - {{ user.estado }}</dd>
  </div>
  <div class="flex flex-col gap-1 rounded-lg border border-[var(--border)] px-3 py-2">
    <dt class="text-[var(--text-secondary)]">{% trans "CEP" %}</dt>
    <dd class="font-medium text-[var(--text-primary)]">{{ user.cep }}</dd>
  </div>
    <div class="flex flex-col gap-1 rounded-lg border border-[var(--border)] px-3 py-2">
    <dt class="text-[var(--text-secondary)]">{% trans "Telefone" %}</dt>
    <dd class="font-medium text-[var(--text-primary)]">{{ user.phone_number }}</dd>
  </div>
    <div class="flex flex-col gap-1 rounded-lg border border-[var(--border)] px-3 py-2">
    <dt class="text-[var(--text-secondary)]">{% trans "E-mail" %}</dt>
    <dd class="font-medium text-[var(--text-primary)]">{{ user.email }}</dd>
  </div>
</dl>

{% if bio %}
  <div class="flex flex-col gap-1 rounded-lg border border-[var(--border)] px-3 py-2">
    <h3 class="text-sm font-semibold text-[var(--text-primary)]">{% trans "Bio" %}</h3>
    <p class="mt-2 text-sm text-[var(--text-primary)] whitespace-pre-line">{{ bio }}</p>
  </div>
{% endif %}

{% with user.redes_sociais as redes %}
  {% if redes %}
    <div class="mt-6">
      <h3 class="text-sm font-semibold text-[var(--text-primary)]">{% trans "Redes sociais" %}</h3>
      <ul class="mt-2 space-y-2 text-sm">
        {% for network, url in redes.items %}
          {% with url|default:'' as network_url %}
            {% if network_url %}
              {% if '://' not in network_url %}
                {% with 'https://'|add:network_url as normalized_url %}
                  <li>
                    <a
                      href="{{ normalized_url }}"
                      target="_blank"
                      rel="noopener noreferrer"
                      class="flex flex-col gap-1 rounded-lg border border-[var(--border)] px-3 py-2 text-[var(--text-primary)] transition hover:border-[var(--accent)] hover:text-primary focus:outline-none focus:ring-2 focus:ring-[var(--border-focus)]"
                    >
                      <span class="font-medium">
                        {% with network|capfirst as network_label %}
                          {% trans network_label %}
                        {% endwith %}
                      </span>
                      <span class="text-[var(--text-secondary)] break-all">{{ normalized_url }}</span>
                    </a>
                  </li>
                {% endwith %}
              {% else %}
                <li>
                  <a
                    href="{{ network_url }}"
                    target="_blank"
                    rel="noopener noreferrer"
                    class="flex flex-col gap-1 rounded-lg border border-[var(--border)] px-3 py-2 text-[var(--text-primary)] transition hover:border-[var(--accent)] hover:text-primary focus:outline-none focus:ring-2 focus:ring-[var(--border-focus)]"
                  >
                    <span class="font-medium">
                      {% with network|capfirst as network_label %}
                        {% trans network_label %}
                      {% endwith %}
                    </span>
                    <span class="text-[var(--text-secondary)] break-all">{{ network_url }}</span>
                  </a>
                </li>
              {% endif %}
            {% endif %}
          {% endwith %}
        {% endfor %}
      </ul>
    </div>
  {% endif %}
{% endwith %}

<div class="mt-6 text-right">
  <a href="{% url 'accounts:perfil_sections_info' %}" class="text-primary font-medium hover:underline">{% trans "Editar perfil" %}</a>
</div>
