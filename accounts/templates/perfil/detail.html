{% extends 'perfil/perfil.html' %}
{% load i18n %}
{% block title %}{% trans "Meu Perfil" %} | Hubx{% endblock %}
{% block perfil_content %}
<section class="max-w-4xl mx-auto px-4 py-6 bg-white rounded-xl shadow">

  {% if user.biografia %}
    <div class="mb-6">
      <p class="text-gray-700 italic border-l-4 border-primary pl-4">{{ user.biografia }}</p>
    </div>
  {% endif %}

  <div class="grid sm:grid-cols-2 gap-6 text-sm text-gray-700">
    <div>
      <h4 class="font-medium mb-1">{% trans "Contato" %}</h4>
      <p>{% trans "Email" %}: {{ user.email }}</p>
      <p>{% trans "Telefone" %}: {{ user.phone_number }}</p>
      <p>{% trans "WhatsApp" %}: {{ user.whatsapp }}</p>
    </div>
    <div>
      <h4 class="font-medium mb-1">{% trans "Localização" %}</h4>
      <p>{{ user.endereco }}</p>
      <p>{{ user.cidade }} - {{ user.estado }}</p>
      <p>{{ user.cep }}</p>
    </div>
    <div>
    <h4 class="font-medium mb-1">{% trans "Redes Sociais" %}</h4>
    {% if user.redes_sociais %}
      {% for nome, link in user.redes_sociais.items %}
        <p><a href="{{ link }}" class="text-primary hover:underline" target="_blank">{{ nome|title }}</a></p>
      {% endfor %}
    {% endif %}
  </div>

  </div>

  <div class="mt-6 text-right">
    <a href="{% url 'accounts:informacoes_pessoais' %}" class="text-primary font-medium hover:underline">{% trans "Editar perfil" %}</a>
  </div>

</section>

{# Listas de cards: Núcleos, Eventos, Empresas #}
<section class="max-w-5xl mx-auto mt-8 px-4">
  <div class="grid gap-10">
    <div>
      <h2 class="text-lg font-bold mb-3">{% trans "Núcleos" %}</h2>
      <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4">
        {% for nucleo in nucleos %}
          {% include 'partials/cards/nucleo_card.html' with nucleo=nucleo %}
        {% empty %}
          <p class="text-sm text-neutral-500">{% trans "Nenhum núcleo encontrado." %}</p>
        {% endfor %}
      </div>
    </div>

    <div>
      <h2 class="text-lg font-bold mb-3">{% trans "Eventos" %}</h2>
      <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4">
        {% for ins in inscricoes %}
          {% include 'partials/cards/evento_card.html' with evento=ins.evento %}
        {% empty %}
          <p class="text-sm text-neutral-500">{% trans "Nenhum evento encontrado." %}</p>
        {% endfor %}
      </div>
    </div>

    <div>
      <h2 class="text-lg font-bold mb-3">{% trans "Empresas" %}</h2>
      <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4">
        {% for empresa in empresas %}
          {% include 'partials/cards/empresa_card.html' with empresa=empresa %}
        {% empty %}
          <p class="text-sm text-neutral-500">{% trans "Nenhuma empresa encontrada." %}</p>
        {% endfor %}
      </div>
    </div>
  </div>
</section>

{% endblock %}
