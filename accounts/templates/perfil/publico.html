{% extends 'base.html' %}
{% load static i18n %}
{% block title %}{% with perfil as profile %}{{ profile.get_full_name|default:profile.username }} | Hubx{% endwith %}{% endblock %}

{% block hero %}
  {% include '_components/hero_profile.html' with profile=perfil %}
{% endblock %}

{% block content %}
<div class="card-header">
  <div class="mt-2 border-b border-[var(--border)]">
    <nav class="-mb-px flex gap-6" aria-label="{% trans 'Tabs' %}">
      <button type="button" class="tab-btn py-3 text-sm font-medium border-b-2 border-transparent text-[var(--text-secondary)] data-[active=true]:border-primary data-[active=true]:text-primary" data-tab="mural" data-active="true">{% trans 'Mural' %}</button>
      <button type="button" class="tab-btn py-3 text-sm font-medium border-b-2 border-transparent text-[var(--text-secondary)] data-[active=true]:border-primary data-[active=true]:text-primary" data-tab="informacoes">{% trans 'Informações' %}</button>
      {% if not perfil.is_superuser %}
        <button type="button" class="tab-btn py-3 text-sm font-medium border-b-2 border-transparent text-[var(--text-secondary)] data-[active=true]:border-primary data-[active=true]:text-primary" data-tab="empresas">{% trans 'Empresas' %}</button>
        <button type="button" class="tab-btn py-3 text-sm font-medium border-b-2 border-transparent text-[var(--text-secondary)] data-[active=true]:border-primary data-[active=true]:text-primary" data-tab="nucleos">{% trans 'Núcleos' %}</button>
        <button type="button" class="tab-btn py-3 text-sm font-medium border-b-2 border-transparent text-[var(--text-secondary)] data-[active=true]:border-primary data-[active=true]:text-primary" data-tab="eventos">{% trans 'Eventos' %}</button>
      {% endif %}
    </nav>
  </div>
</div>

<div class="card-body">
  <div id="tab-panels" class="mt-6">
    <div class="tab-panel" data-tab="mural">
      {# TODO: conteúdo do mural público #}
    </div>

    <div class="tab-panel hidden" data-tab="informacoes">
      {% include 'perfil/partials/publico_informacoes.html' with profile=perfil publico=True %}
    </div>

    {% if not perfil.is_superuser %}
      <div class="tab-panel hidden" data-tab="empresas">
        {% include 'perfil/partials/publico_empresas.html' with empresas=empresas publico=True %}
      </div>

      <div class="tab-panel hidden" data-tab="nucleos">
        {% include 'perfil/partials/publico_nucleos.html' with nucleos=nucleos publico=True %}
      </div>

      <div class="tab-panel hidden" data-tab="eventos">
        {% include 'perfil/partials/publico_eventos.html' with inscricoes=inscricoes publico=True %}
      </div>
    {% endif %}
  </div>
</div>
{% endblock %}

