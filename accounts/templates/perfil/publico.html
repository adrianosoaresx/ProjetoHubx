{% extends 'base.html' %}
{% load static i18n %}
{% block title %}{{ perfil.display_name }} | Hubx{% endblock %}

{% block hero %}
  {% include '_components/hero_profile.html' with profile=perfil is_owner=is_owner hero_title=hero_title hero_subtitle=hero_subtitle %}
{% endblock %}

{% block content %}
<div class="space-y-6">
  <div class="card">
    <div class="card-body">
      <section
        id="perfil-info"
        class="space-y-6"
        data-perfil-mode="public"
        data-perfil-username="{{ perfil.username }}"
        data-perfil-public-id="{{ perfil.public_id }}"
        aria-live="polite"
        aria-busy="true"
        hx-trigger="load"
        hx-get="{% url 'accounts:perfil_info_partial' %}"
        hx-target="#perfil-info"
        hx-vals='{"public_id":"{{ perfil.public_id|escapejs }}","username":"{{ perfil.username|escapejs }}"}'
      >
        <div class="py-6 text-center text-sm text-[var(--text-secondary)]" data-perfil-placeholder>
          {% trans "Carregando conteúdo..." %}
        </div>
      </section>
    </div>
  </div>

  <div class="card">
    <div class="card-body">
      <section
        id="perfil-portfolio"
        class="space-y-6"
        data-perfil-mode="public"
        data-perfil-username="{{ perfil.username }}"
        data-perfil-public-id="{{ perfil.public_id }}"
        aria-live="polite"
        aria-busy="true"
        hx-trigger="load"
        hx-get="{% url 'accounts:perfil_portfolio' %}"
        hx-target="#perfil-portfolio"
        hx-vals='{"public_id":"{{ perfil.public_id|escapejs }}","username":"{{ perfil.username|escapejs }}"}'
      >
        <div class="py-6 text-center text-sm text-[var(--text-secondary)]" data-perfil-placeholder>
          {% trans "Carregando conteúdo..." %}
        </div>
      </section>
    </div>
  </div>
</div>

{% endblock %}

{% block scripts %}
  {{ block.super }}
  <script type="module" src="{% static 'perfil/js/perfil.js' %}"></script>
{% endblock %}

