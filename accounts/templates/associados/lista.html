{% extends 'base.html' %}
{% load i18n %}

{% block title %}{% trans 'Associados' %}{% endblock %}

{% block content %}
<section class="max-w-5xl mx-auto mt-8 px-4">
  <h1 class="text-2xl font-bold mb-6">{% trans 'Associados' %}</h1>
  <form method="get" class="mb-6 flex gap-2">
    <label for="q" class="sr-only">{% trans 'Buscar' %}</label>
    <input
      id="q"
      name="q"
      value="{{ request.GET.q }}"
      class="border rounded px-3 py-2 flex-grow"
      placeholder="{% trans 'Buscar' %}"
    />
    <button type="submit" class="bg-primary text-white px-4 py-2 rounded">{% trans 'Buscar' %}</button>
  </form>
  <div class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4">
    {% for associado in associados %}
      <a
        href="{% url 'accounts:perfil_publico' associado.pk %}"
        class="bg-white rounded-lg shadow p-4 flex flex-col items-center text-center hover:shadow-md transition"
      >
        {% if associado.avatar %}
          <img
            src="{{ associado.avatar.url }}"
            alt="{{ associado.username }}"
            class="w-24 h-24 rounded-full object-cover mb-2"
          />
        {% else %}
          <div
            class="w-24 h-24 rounded-full bg-gray-200 flex items-center justify-center text-2xl font-semibold text-primary mb-2"
          >
            {{ associado.username|first|upper }}
          </div>
        {% endif %}
        <h2 class="font-medium">{{ associado.get_full_name|default:associado.username }}</h2>
        <p class="text-sm text-gray-500">@{{ associado.username }}</p>
      </a>
    {% empty %}
      <p class="col-span-full text-center">{% trans 'Nenhum associado encontrado.' %}</p>
    {% endfor %}
  </div>
</section>
{% endblock %}
