{% extends 'base.html' %}
{% load i18n %}
{% block title %}{% trans "Histórico de alterações" %} - {{ empresa.nome }}{% endblock %}
{% block content %}
<section class="max-w-4xl mx-auto px-4 py-10 space-y-6">
  <h1 class="text-2xl font-bold">{% trans "Histórico de alterações" %} - {{ empresa.nome }}</h1>
  <table class="min-w-full divide-y divide-neutral-200 bg-white border">
    <thead>
      <tr>
        <th class="px-4 py-2 text-left text-sm font-medium">{% trans "Campo" %}</th>
        <th class="px-4 py-2 text-left text-sm font-medium">{% trans "Anterior" %}</th>
        <th class="px-4 py-2 text-left text-sm font-medium">{% trans "Novo" %}</th>
        <th class="px-4 py-2 text-left text-sm font-medium">{% trans "Data" %}</th>
      </tr>
    </thead>
    <tbody class="divide-y divide-neutral-200">
      {% for log in object_list %}
      <tr>
        <td class="px-4 py-2 text-sm">{{ log.campo_alterado }}</td>
        <td class="px-4 py-2 text-sm">{{ log.valor_antigo }}</td>
        <td class="px-4 py-2 text-sm">{{ log.valor_novo }}</td>
        <td class="px-4 py-2 text-sm">{{ log.alterado_em|date:'SHORT_DATETIME_FORMAT' }}</td>
      </tr>
      {% empty %}
      <tr><td colspan="4" class="px-4 py-2 text-center text-sm">{% trans "Nenhuma alteração registrada." %}</td></tr>
      {% endfor %}
    </tbody>
  </table>
  {% if is_paginated %}
  <nav class="flex justify-between mt-4" aria-label="{% trans 'Paginação' %}">
    {% if page_obj.has_previous %}
      <a href="?page={{ page_obj.previous_page_number }}" class="px-3 py-1 border rounded">{% trans "Anterior" %}</a>
    {% endif %}
    {% if page_obj.has_next %}
      <a href="?page={{ page_obj.next_page_number }}" class="px-3 py-1 border rounded">{% trans "Próxima" %}</a>
    {% endif %}
  </nav>
  {% endif %}
</section>
{% endblock %}
