{% extends 'base.html' %}
{% block title %}Histórico de alterações - {{ empresa.nome }}{% endblock %}
{% block content %}
<section class="max-w-4xl mx-auto px-4 py-10 space-y-6">
  <h1 class="text-2xl font-bold">Histórico de alterações - {{ empresa.nome }}</h1>
  <table class="min-w-full divide-y divide-neutral-200 bg-white border">
    <thead>
      <tr>
        <th class="px-4 py-2 text-left text-sm font-medium">Campo</th>
        <th class="px-4 py-2 text-left text-sm font-medium">Anterior</th>
        <th class="px-4 py-2 text-left text-sm font-medium">Novo</th>
        <th class="px-4 py-2 text-left text-sm font-medium">Data</th>
      </tr>
    </thead>
    <tbody class="divide-y divide-neutral-200">
      {% for log in object_list %}
      <tr>
        <td class="px-4 py-2 text-sm">{{ log.campo_alterado }}</td>
        <td class="px-4 py-2 text-sm">{{ log.valor_antigo }}</td>
        <td class="px-4 py-2 text-sm">{{ log.valor_novo }}</td>
        <td class="px-4 py-2 text-sm">{{ log.created_at|date:"d/m/Y H:i" }}</td>
      </tr>
      {% empty %}
      <tr><td colspan="4" class="px-4 py-2 text-center text-sm">Nenhuma alteração registrada.</td></tr>
      {% endfor %}
    </tbody>
  </table>
  {% if is_paginated %}
  <nav class="flex justify-between mt-4" aria-label="Paginação">
    {% if page_obj.has_previous %}
      <a href="?page={{ page_obj.previous_page_number }}" class="px-3 py-1 border rounded">Anterior</a>
    {% endif %}
    {% if page_obj.has_next %}
      <a href="?page={{ page_obj.next_page_number }}" class="px-3 py-1 border rounded">Próxima</a>
    {% endif %}
  </nav>
  {% endif %}
</section>
{% endblock %}
