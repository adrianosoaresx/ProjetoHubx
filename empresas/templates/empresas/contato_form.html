{% extends 'base.html' %}
{% load i18n custom_filters %}
{% block title %}{% translate 'Contato' %}{% endblock %}
{% block content %}
<section class="max-w-md mx-auto py-8">
  {% if message %}
    <div class="bg-green-100 border border-green-300 text-green-800 p-4 rounded">{{ message }}</div>
  {% elif contato %}
    <div class="space-y-1 bg-white border border-neutral-200 p-6 rounded-md">
      <p class="text-sm font-medium text-neutral-700">{{ contato.nome }}</p>
      <p class="text-sm text-neutral-700">{{ contato.email }}</p>
      <p class="text-sm text-neutral-700">{{ contato.telefone }}</p>
      <p class="text-sm text-neutral-700">{{ contato.cargo }}</p>
    </div>
  {% else %}
    <form method="post" class="space-y-4 bg-white border border-neutral-200 p-6 rounded-md" hx-post="" hx-target="closest form" hx-swap="outerHTML">
      {% csrf_token %}
      <div>
        <label for="{{ form.nome.id_for_label }}" class="block text-sm font-medium text-neutral-700">{% translate 'Nome' %}</label>
        {{ form.nome|add_class:'w-full p-2 border rounded' }}
        {{ form.nome.errors }}
      </div>
      <div>
        <label for="{{ form.email.id_for_label }}" class="block text-sm font-medium text-neutral-700">{% translate 'E-mail' %}</label>
        {{ form.email|add_class:'w-full p-2 border rounded' }}
        {{ form.email.errors }}
      </div>
      <div>
        <label for="{{ form.telefone.id_for_label }}" class="block text-sm font-medium text-neutral-700">{% translate 'Telefone' %}</label>
        {{ form.telefone|add_class:'w-full p-2 border rounded' }}
        {{ form.telefone.errors }}
      </div>
      <div>
        <label for="{{ form.cargo.id_for_label }}" class="block text-sm font-medium text-neutral-700">{% translate 'Cargo' %}</label>
        {{ form.cargo|add_class:'w-full p-2 border rounded' }}
        {{ form.cargo.errors }}
      </div>
      <div class="flex items-center gap-2">
        {{ form.principal }}
        <label for="{{ form.principal.id_for_label }}" class="text-sm text-neutral-700">{% translate 'Contato principal' %}</label>
      </div>
      <button class="bg-primary-600 text-white px-4 py-2 rounded" type="submit">{% translate 'Salvar' %}</button>
    </form>
  {% endif %}
</section>
{% endblock %}
