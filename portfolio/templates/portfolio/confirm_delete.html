{% extends "base.html" %}
{% load i18n lucide_icons %}

{% block hero %}
  {% include "_components/hero_portfolio.html" with title=hero_title subtitle=hero_subtitle counts=counts %}
{% endblock %}

{% block content %}
  <div class="space-y-6">
    <div class="card">
      <div class="card-header bg-[var(--error-light)] text-[var(--error)]">
        <h2 class="text-xl font-semibold">{% trans "Remover Portfólio" %}</h2>
      </div>
      <div class="card-body space-y-4">
        <p class="text-[var(--text-secondary)]">{% trans "Tem certeza que deseja remover este item do portfólio?" %}</p>
        <form method="post" action="{% url 'portfolio:delete' media.pk %}" class="space-y-4">
          {% csrf_token %}
          {% if messages %}
            {% for message in messages %}
              {% if 'success' in message.tags %}
                {% with alert_class='alert alert-success' alert_role='status' %}
                  <div class="{{ alert_class }}" role="{{ alert_role }}">{{ message }}</div>
                {% endwith %}
              {% elif 'error' in message.tags or 'danger' in message.tags %}
                {% with alert_class='alert alert-error' alert_role='alert' %}
                  <div class="{{ alert_class }}" role="{{ alert_role }}">{{ message }}</div>
                {% endwith %}
              {% elif 'warning' in message.tags %}
                {% with alert_class='alert alert-warning' alert_role='alert' %}
                  <div class="{{ alert_class }}" role="{{ alert_role }}">{{ message }}</div>
                {% endwith %}
              {% else %}
                {% with alert_class='alert alert-info' alert_role='status' %}
                  <div class="{{ alert_class }}" role="{{ alert_role }}">{{ message }}</div>
                {% endwith %}
              {% endif %}
            {% endfor %}
          {% endif %}
          {% url 'portfolio:index' as portfolio_url %}
          <div class="flex justify-end gap-3 pt-4 border-t border-[var(--border)]">
            {% include '_components/cancel_button.html' with href=back_url|default:portfolio_url fallback_href=portfolio_url classes='btn btn-secondary btn-sm' icon='arrow-left' show_icon=True %}
            <button type="submit" class="btn btn-danger btn-sm inline-flex items-center gap-2">
              {% lucide 'trash' class='w-4 h-4' aria_hidden='true' %}
              {% trans "Remover" %}
            </button>
          </div>
        </form>
      </div>
    </div>
  </div>
{% endblock %}
