{% load i18n lucide_icons %}
<div class="space-y-6" id="connections-dashboard">
  {% if connections_filter == 'pendentes' %}
    <details class="card group" aria-labelledby="connections-requests-heading">
      <summary class="card-header flex cursor-pointer items-center justify-between gap-4 select-none [&::-webkit-details-marker]:hidden">
        <div class="flex items-start gap-3">
          <span class="flex h-12 w-12 items-center justify-center rounded-full bg-[var(--color-warning-500)]/10 text-[var(--color-warning-600)] shadow-lg shadow-[var(--color-warning-500)]/20">
            {% lucide 'user-check' class='h-6 w-6' aria_hidden='true' %}
          </span>
          <div class="space-y-1">
            <p id="connections-requests-heading" class="text-xl font-semibold text-[var(--text-primary)]">{% trans "Solicitações de conexão" %}</p>
            <p class="text-sm text-[var(--text-secondary)]">
              {% blocktrans count count=total_solicitacoes %}
                {{ count }} solicitação pendente no total
              {% plural %}
                {{ count }} solicitações pendentes no total
              {% endblocktrans %}
            </p>
          </div>
        </div>
        <span class="text-[var(--text-secondary)] transition-transform duration-200 group-open:rotate-180">
          {% lucide 'chevron-down' class='h-5 w-5' aria_hidden='true' %}
        </span>
      </summary>
      <div class="card-body space-y-6">
        {% include 'conexoes/partiais/request_list.html' %}
      </div>
    </details>
  {% elif connections_filter == 'enviadas' %}
    <article class="card" aria-labelledby="connections-sent-heading">
      <div class="card-header flex items-start gap-3">
        <span class="flex h-12 w-12 items-center justify-center rounded-full bg-[var(--color-info-500)]/10 text-[var(--color-info-600)] shadow-lg shadow-[var(--color-info-500)]/20">
          {% lucide 'user-plus' class='h-6 w-6' aria_hidden='true' %}
        </span>
        <div class="space-y-1">
          <p id="connections-sent-heading" class="text-xl font-semibold text-[var(--text-primary)]">{% trans "Solicitações enviadas" %}</p>
          <p class="text-sm text-[var(--text-secondary)]">
            {% blocktrans count count=total_solicitacoes_enviadas %}
              {{ count }} solicitação enviada no total
            {% plural %}
              {{ count }} solicitações enviadas no total
            {% endblocktrans %}
          </p>
        </div>
      </div>
      <div class="card-body space-y-6">
        {% include 'conexoes/partiais/sent_request_list.html' %}
      </div>
    </article>
  {% else %}
    <details class="card group" aria-labelledby="connections-list-heading">
      <summary class="card-header flex cursor-pointer items-center justify-between gap-4 select-none [&::-webkit-details-marker]:hidden">
        <div class="flex items-start gap-3">
          <span class="flex h-12 w-12 items-center justify-center rounded-full bg-[var(--color-primary-500)]/10 text-[var(--color-primary-500)] shadow-lg shadow-[var(--color-primary-500)]/15">
            {% lucide 'users' class='h-6 w-6' aria_hidden='true' %}
          </span>
          <div class="space-y-1">
            <p id="connections-list-heading" class="text-xl font-semibold text-[var(--text-primary)]">{% trans "Minhas conexões" %}</p>
            <p class="text-sm text-[var(--text-secondary)]">
              {% blocktrans count count=total_conexoes %}
                {{ count }} conexão ativa no total
              {% plural %}
                {{ count }} conexões ativas no total
              {% endblocktrans %}
            </p>
          </div>
        </div>
        <span class="text-[var(--text-secondary)] transition-transform duration-200 group-open:rotate-180">
          {% lucide 'chevron-down' class='h-5 w-5' aria_hidden='true' %}
        </span>
      </summary>
      <div class="card-body space-y-6">
        {% include 'conexoes/partiais/connections_list.html' %}
      </div>
    </details>

    <details class="card group" aria-labelledby="connections-requests-heading">
      <summary class="card-header flex cursor-pointer items-center justify-between gap-4 select-none [&::-webkit-details-marker]:hidden">
        <div class="flex items-start gap-3">
          <span class="flex h-12 w-12 items-center justify-center rounded-full bg-[var(--color-warning-500)]/10 text-[var(--color-warning-600)] shadow-lg shadow-[var(--color-warning-500)]/20">
            {% lucide 'user-check' class='h-6 w-6' aria_hidden='true' %}
          </span>
          <div class="space-y-1">
            <p id="connections-requests-heading" class="text-xl font-semibold text-[var(--text-primary)]">{% trans "Solicitações de conexão" %}</p>
            <p class="text-sm text-[var(--text-secondary)]">
              {% blocktrans count count=total_solicitacoes %}
                {{ count }} solicitação pendente no total
              {% plural %}
                {{ count }} solicitações pendentes no total
              {% endblocktrans %}
            </p>
          </div>
        </div>
        <span class="text-[var(--text-secondary)] transition-transform duration-200 group-open:rotate-180">
          {% lucide 'chevron-down' class='h-5 w-5' aria_hidden='true' %}
        </span>
      </summary>
      <div class="card-body space-y-6">
        {% include 'conexoes/partiais/request_list.html' %}
      </div>
    </details>
  {% endif %}
</div>
<div id="modal" role="presentation" aria-live="polite"></div>
