{% extends 'base.html' %}
{% load i18n %}
{% block title %}{% trans 'Métricas de Notificações' %} | HubX{% endblock %}

{% block hero %}
  {% include '_components/hero.html' with title=_('Métricas de Notificações') %}
{% endblock %}

{% block content %}
  <div class="max-w-6xl mx-auto card-grid">
    <div class="card">
      <div class="card-body">
        <form method="get" class="flex flex-col sm:flex-row gap-4 sm:items-end">
          {% for field in form %}
            {% include '_forms/field.html' with field=field %}
          {% endfor %}
          <button type="submit" class="btn btn-primary">{% trans 'Filtrar' %}</button>
        </form>
      </div>
    </div>
    <div class="card">
      <div class="card-body space-y-6">
        <div>
          <h2 class="text-xl font-semibold text-[var(--text-primary)] mb-2">{% trans 'Total por canal' %}</h2>
          <ul class="list-disc list-inside text-[var(--text-secondary)] space-y-1">
            <li>{% trans 'E-mail' %}: {{ total_por_canal.email|default:0 }}</li>
            <li>{% trans 'Push' %}: {{ total_por_canal.push|default:0 }}</li>
            <li>{% trans 'WhatsApp' %}: {{ total_por_canal.whatsapp|default:0 }}</li>
          </ul>
        </div>
        <div>
          <h2 class="text-xl font-semibold text-[var(--text-primary)] mb-2">{% trans 'Falhas por canal' %}</h2>
          <ul class="list-disc list-inside text-[var(--text-secondary)] space-y-1">
            <li>{% trans 'E-mail' %}: {{ falhas_por_canal.email|default:0 }}</li>
            <li>{% trans 'Push' %}: {{ falhas_por_canal.push|default:0 }}</li>
            <li>{% trans 'WhatsApp' %}: {{ falhas_por_canal.whatsapp|default:0 }}</li>
          </ul>
        </div>
        <p class="text-[var(--text-secondary)]">{% trans 'Total de templates' %}: {{ templates_total|default:0 }}</p>
      </div>
    </div>
  </div>
{% endblock %}
