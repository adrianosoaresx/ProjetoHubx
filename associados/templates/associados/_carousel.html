{% load i18n lucide_icons %}
<div
  class="space-y-4"
  data-associados-carousel
  data-section="{{ section }}"
  data-fetch-url="{{ fetch_url }}"
  data-current-slide="1"
  data-backend-page="{{ page.number }}"
  data-backend-total-pages="{{ page.paginator.num_pages }}"
  data-search-term="{{ search_term }}"
>
  <div class="relative pb-16">
    <div class="overflow-hidden rounded-xl border border-[var(--border-subtle)] bg-[var(--bg-elevated)]" data-carousel-viewport>
      <div class="flex transition-transform duration-500 ease-out" data-carousel-track>
        {% include 'associados/_carousel_slide.html' with usuarios=page.object_list page_number=page.number empty_message=empty_message %}
      </div>
    </div>
    {% if page.paginator.count > 0 %}
      <div class="absolute inset-x-0 bottom-0 flex items-center justify-between px-4 pb-4 sm:px-6">
        <button
          type="button"
          class="flex h-12 w-12 items-center justify-center rounded-full border border-[var(--border-subtle)] bg-[var(--bg-elevated)] text-[var(--text-primary)] shadow-md transition focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-[var(--color-primary-500)] disabled:cursor-not-allowed disabled:opacity-60 hover:bg-[var(--color-primary-500)] hover:text-white"
          data-carousel-prev
          aria-label="{% trans 'Anterior' %}"
        >
          {% lucide 'chevron-left' class='h-5 w-5' aria_hidden='true' %}
        </button>
        <button
          type="button"
          class="flex h-12 w-12 items-center justify-center rounded-full border border-[var(--border-subtle)] bg-[var(--bg-elevated)] text-[var(--text-primary)] shadow-md transition focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-[var(--color-primary-500)] disabled:cursor-not-allowed disabled:opacity-60 hover:bg-[var(--color-primary-500)] hover:text-white"
          data-carousel-next
          aria-label="{% trans 'PrÃ³ximo' %}"
        >
          {% lucide 'chevron-right' class='h-5 w-5' aria_hidden='true' %}
        </button>
      </div>
    {% endif %}
  </div>
</div>
